(self.webpackChunkBCleanCheck=self.webpackChunkBCleanCheck||[]).push([[8272],{8272:(e,n,t)=>{"use strict";t.d(n,{L:()=>m});var i=t(4762),a=t(9786),s=t(3018),d=t(2859),o=t(4155),r=t(5496),l=t(5001),c=t(7053),g=t(665),h=t(8583);function u(e,n){if(1&e){const e=s.EpF();s.TgZ(0,"ion-card"),s.TgZ(1,"ion-item-divider"),s._uU(2),s.TgZ(3,"ion-button",21),s.NdJ("click",function(){const n=s.CHM(e).$implicit;return s.oxw().showUpdateCI(n.id,n.data().cleaningItemEn,n.data().cleaningItemEs,n.data().index)}),s._UZ(4,"ion-icon",22),s.qZA(),s._uU(5," \xa0 "),s.TgZ(6,"ion-button",23),s.NdJ("click",function(){const n=s.CHM(e).$implicit;return s.oxw().deleteCleaningItem(n.id)}),s._UZ(7,"ion-icon",24),s.qZA(),s.qZA(),s.qZA()}if(2&e){const e=n.$implicit;s.xp6(2),s.lnq(" ",e.data().index," En: ",e.data().cleaningItemEn," Es: ",e.data().cleaningItemEs," \xa0 \xa0 \xa0 ")}}let m=(()=>{class e{constructor(e,n,t,i,a,s,d){this.modalCtrl=e,this.toastCtrl=n,this.loadingCtrl=t,this.cleaningAreaService=i,this.route=a,this.lanServ=s,this.authService=d,this.enCleaningAreaTag="",this.enCleaningItem="",this.esCleaningAreaTag="",this.esCleaningItem="",this.cleaningAreas=[],this.cleaningAreaEn="",this.cleaningAreaEs="",this.cleaningItems=[],this.btnEnabled=!0,this.esCleaningItemEnabled=!0,this.itemEnabled=!0,this.item="",this.careaId="",this.items=[],this.hiddenAdd=!1,this.hiddenUpdate=!0,this.updateItemId="",this.hiddenPostCI=!1,this.hiddenUpdateCI=!0,this.updatedCIid="",this.indexEnabled=!0,this.indexes=[],this.indexesLen=0,this.indexesMin=0,this.langu="",this.userLanguage(),this.getCleaningItemByArea(),this.getItems(),this.cleaningAreaEn=this.cleaningAreaService.cleaningAreaEn,this.cleaningAreaEs=this.cleaningAreaService.cleaningAreaEs,this.careaId=this.cleaningAreaService.cleaningAreaId}userLanguage(){this.authService.userDetails().forEach(e=>{a.Z.firestore().collection("userLanguage").doc(e.uid).get().then(e=>{this.getUserLanguage(e.data().language)})})}getUserLanguage(e){}ngOnInit(){}showUpdateCI(e,n,t,i){this.hiddenPostCI=!0,this.hiddenUpdateCI=!1,this.updatedCIid=e,this.enCleaningItem=n,this.esCleaningItem=t,this.index=i,this.indexEnabled=!1}updateCleaningItem(){a.Z.firestore().collection("cleaningItem").doc(this.updatedCIid).update({index:this.index,cleaningItemEn:this.enCleaningItem,cleaningItemEs:this.esCleaningItem}).then(()=>(0,i.__awaiter)(this,void 0,void 0,function*(){this.hiddenAdd=!1,this.hiddenUpdate=!0,this.item="",this.modalCtrl.dismiss(),(yield this.modalCtrl.create({component:e})).present(),this.getItems(),(yield this.toastCtrl.create({message:"Cleaning Item was updated successfully.",duration:3e3})).present()})).catch(e=>(0,i.__awaiter)(this,void 0,void 0,function*(){(yield this.toastCtrl.create({message:e.message,duration:3e3})).present()}))}showUpdate(e,n){this.updateItemId=e,this.item=n,this.hiddenAdd=!0,this.hiddenUpdate=!1}updateItem(){a.Z.firestore().collection(this.cleaningAreaEn).doc(this.updateItemId).update({item:this.item}).then(()=>(0,i.__awaiter)(this,void 0,void 0,function*(){this.hiddenAdd=!1,this.hiddenUpdate=!0,this.item="",this.modalCtrl.dismiss(),(yield this.modalCtrl.create({component:e})).present(),this.getItems(),(yield this.toastCtrl.create({message:" Item was updated successfully.",duration:3e3})).present()})).catch(e=>(0,i.__awaiter)(this,void 0,void 0,function*(){(yield this.toastCtrl.create({message:e.message,duration:3e3})).present()}))}deleteCleaningItem(n){a.Z.firestore().collection("cleaningItem").doc(n).delete().then(()=>(0,i.__awaiter)(this,void 0,void 0,function*(){(yield this.toastCtrl.create({message:"Cleaning Item was deleted successfully.",duration:3e3})).present(),this.modalCtrl.dismiss(),(yield this.modalCtrl.create({component:e})).present(),this.getItems()})).catch(e=>(0,i.__awaiter)(this,void 0,void 0,function*(){(yield this.toastCtrl.create({message:e.message,duration:3e3})).present()}))}deleteItem(n){a.Z.firestore().collection(this.cleaningAreaEn).doc(n).delete().then(()=>(0,i.__awaiter)(this,void 0,void 0,function*(){(yield this.toastCtrl.create({message:"Item was deleted successfully.",duration:3e3})).present(),this.modalCtrl.dismiss(),(yield this.modalCtrl.create({component:e})).present(),this.getItems()})).catch(e=>(0,i.__awaiter)(this,void 0,void 0,function*(){(yield this.toastCtrl.create({message:e.message,duration:3e3})).present()}))}addItem(){this.authService.userDetails().forEach(n=>{a.Z.firestore().collection(this.cleaningAreaEn).add({item:this.item,areaId:this.careaId,created:a.Z.firestore.FieldValue.serverTimestamp(),owner:n.uid,owner_name:n.displayName}).then(n=>(0,i.__awaiter)(this,void 0,void 0,function*(){(yield this.toastCtrl.create({message:" Item was added successfully.",duration:3e3})).present(),this.modalCtrl.dismiss(),(yield this.modalCtrl.create({component:e})).present(),this.getItems()})).catch(e=>(0,i.__awaiter)(this,void 0,void 0,function*(){(yield this.toastCtrl.create({message:e.message,duration:3e3})).present()}))})}enableIndexInput(){""!=this.esCleaningItem?this.indexEnabled=!1:(this.indexEnabled=!0,this.index=null)}enableEsCleaningItem(){""!=this.enCleaningItem?this.esCleaningItemEnabled=!1:(this.esCleaningItemEnabled=!0,this.esCleaningItem="")}enablePostBtn(){this.btnEnabled=null==this.index}enableBtnItem(){this.itemEnabled=""==this.item}postCleaningItem(){this.authService.userDetails().forEach(e=>{a.Z.firestore().collection("cleaningItem").add({cleaningItemEn:this.enCleaningItem,cleaningAreaEn:this.cleaningAreaEn,cleaningItemEs:this.esCleaningItem,cleaningAreaEs:this.cleaningAreaEs,created:a.Z.firestore.FieldValue.serverTimestamp(),owner:e.uid,owner_name:e.displayName}).then(e=>(0,i.__awaiter)(this,void 0,void 0,function*(){(yield this.toastCtrl.create({message:"Cleaning Item was added successfully.",duration:3e3})).present()})).catch(e=>(0,i.__awaiter)(this,void 0,void 0,function*(){(yield this.toastCtrl.create({message:e.message,duration:3e3})).present()}))})}getCleaningItemByArea(){return(0,i.__awaiter)(this,void 0,void 0,function*(){var e=[];this.indexes=[];var n=0,t=0;this.cleaningItems=[];let s=this.loadingCtrl.create({message:"Loading ..."});(yield s).present(),a.Z.firestore().collection("cleaningItem").where("cleaningAreaEn","==",this.cleaningAreaEn).get().then(d=>(0,i.__awaiter)(this,void 0,void 0,function*(){d.forEach(e=>(0,i.__awaiter)(this,void 0,void 0,function*(){this.indexes.push(e.data().index)})),n=this.indexes.length;for(var o=0;o<n-1;o++){t=o;for(var r=o+1;r<n-1;r++)this.indexes[r]<this.indexes[t]&&(t=r);e=this.indexes[t],this.indexes[t]=this.indexes[o],this.indexes[o]=e}for(o=0;o<this.indexes.length;o++)a.Z.firestore().collection("cleaningItem").where("cleaningAreaEn","==",this.cleaningAreaEn).where("index","==",this.indexes[o]).get().then(e=>{e.forEach(e=>{this.cleaningItems.push(e)})});(yield s).dismiss()})).catch(e=>(0,i.__awaiter)(this,void 0,void 0,function*(){(yield this.toastCtrl.create({message:e.message,duration:3e3})).present()}))})}orderCleaningItemsBYIndex(){return(0,i.__awaiter)(this,void 0,void 0,function*(){var e=[];this.indexes=[];let n=this.loadingCtrl.create({message:"Loading ..."});(yield n).present(),a.Z.firestore().collection("cleaningItem").where("cleaningAreaEn","==",this.cleaningAreaEn).get().then(n=>{n.forEach(e=>{this.indexes.push(e.data().index)}),this.indexesLen=this.indexes.length;for(var t=0;t<this.indexesLen-1;t++){this.indexesMin=t;for(var i=2;i<this.indexesLen;i++)this.indexes[i]<this.indexes[this.indexesMin]&&(this.indexesMin=i),e=this.indexes[this.indexesMin],this.indexes[this.indexesMin]=this.indexes[t],this.indexes[t]=e}}),(yield n).dismiss()})}getItems(){return(0,i.__awaiter)(this,void 0,void 0,function*(){this.cleaningAreas=[];let e=this.loadingCtrl.create({message:"Loading ..."});(yield e).present(),a.Z.firestore().collection(this.cleaningAreaEn).get().then(n=>(0,i.__awaiter)(this,void 0,void 0,function*(){n.forEach(e=>{this.items.push(e)}),(yield e).dismiss()})).catch(e=>(0,i.__awaiter)(this,void 0,void 0,function*(){(yield this.toastCtrl.create({message:e.message,duration:3e3})).present()}))})}dismiss(){return(0,i.__awaiter)(this,void 0,void 0,function*(){yield this.modalCtrl.dismiss(this.taskObject)})}refresh(e){this.infiniteEvent&&this.infiniteEvent.enable(!0),e.complete()}}return e.\u0275fac=function(n){return new(n||e)(s.Y36(d.IN),s.Y36(d.yF),s.Y36(d.HT),s.Y36(o.k),s.Y36(r.F0),s.Y36(l.L),s.Y36(c.$))},e.\u0275cmp=s.Xpm({type:e,selectors:[["app-cleaning-area"]],decls:37,vars:12,consts:[["color","danger"],["name","close","slot","end","size","large",1,"ion-padding",3,"click"],["slot","fixed",3,"ionRefresh"],["disabled","",3,"ngModel","ngModelChange"],[1,"colinputEn"],["disabled","",1,"inputEn"],[1,"inputEnT"],[1,"caen",2,"background-color","silver",3,"ngModel","ngModelChange","ionChange"],[1,"colinputEs"],["disabled","",1,"inputEs"],[1,"inputEsT"],[1,"caes",2,"background-color","silver",3,"ngModel","disabled","ngModelChange","ionChange"],[1,"colIndexlbl"],["disabled","",1,"inputInd"],[1,"indexInput"],["type","number",1,"ind",2,"background-color","silver",3,"ngModel","disabled","ngModelChange","ionChange"],["icon-only","","color","secondary",1,"button","button-small","addCleanItem",3,"disabled","hidden","click"],["name","add"],["icon-only","","color","success",1,"button","button-small","addCleanItem",3,"disabled","hidden","click"],["name","checkmark"],[4,"ngFor","ngForOf"],["icon-only","","color","success",1,"btnUp",3,"click"],["name","pencil-outline",1,"upPen"],["icon-only","","color","danger",1,"btnDel",3,"click"],["name","trash",1,"delAcc"]],template:function(e,n){1&e&&(s.TgZ(0,"ion-header"),s.TgZ(1,"ion-toolbar",0),s.TgZ(2,"ion-title"),s._uU(3,"Cleaning Item "),s.qZA(),s.TgZ(4,"ion-icon",1),s.NdJ("click",function(){return n.dismiss()}),s.qZA(),s.qZA(),s.qZA(),s.TgZ(5,"ion-content"),s.TgZ(6,"ion-refresher",2),s.NdJ("ionRefresh",function(e){return n.refresh(e)}),s._UZ(7,"ion-refresher-content"),s.qZA(),s.TgZ(8,"ion-grid"),s.TgZ(9,"ion-row"),s.TgZ(10,"ion-input",3),s.NdJ("ngModelChange",function(e){return n.cleaningAreaEn=e}),s.qZA(),s.qZA(),s.TgZ(11,"ion-row"),s.TgZ(12,"ion-col",4),s.TgZ(13,"ion-input",5),s._uU(14,"EN"),s.qZA(),s.qZA(),s.TgZ(15,"ion-col",6),s.TgZ(16,"ion-input",7),s.NdJ("ngModelChange",function(e){return n.enCleaningItem=e})("ionChange",function(){return n.enableEsCleaningItem()}),s.qZA(),s.qZA(),s.qZA(),s.TgZ(17,"ion-row"),s.TgZ(18,"ion-input",3),s.NdJ("ngModelChange",function(e){return n.cleaningAreaEs=e}),s.qZA(),s.qZA(),s.TgZ(19,"ion-row"),s.TgZ(20,"ion-col",8),s.TgZ(21,"ion-input",9),s._uU(22,"ES"),s.qZA(),s.qZA(),s.TgZ(23,"ion-col",10),s.TgZ(24,"ion-input",11),s.NdJ("ngModelChange",function(e){return n.esCleaningItem=e})("ionChange",function(){return n.enableIndexInput()}),s.qZA(),s.qZA(),s.qZA(),s.TgZ(25,"ion-row"),s.TgZ(26,"ion-col",12),s.TgZ(27,"ion-input",13),s._uU(28,"Index"),s.qZA(),s.qZA(),s.TgZ(29,"ion-col",14),s.TgZ(30,"ion-input",15),s.NdJ("ngModelChange",function(e){return n.index=e})("ionChange",function(){return n.enablePostBtn()}),s.qZA(),s.qZA(),s.qZA(),s.TgZ(31,"ion-row"),s.TgZ(32,"ion-fab-button",16),s.NdJ("click",function(){return n.postCleaningItem()}),s._UZ(33,"ion-icon",17),s.qZA(),s.TgZ(34,"ion-fab-button",18),s.NdJ("click",function(){return n.updateCleaningItem()}),s._UZ(35,"ion-icon",19),s.qZA(),s.qZA(),s.qZA(),s.YNc(36,u,8,3,"ion-card",20),s.qZA()),2&e&&(s.xp6(10),s.Q6J("ngModel",n.cleaningAreaEn),s.xp6(6),s.Q6J("ngModel",n.enCleaningItem),s.xp6(2),s.Q6J("ngModel",n.cleaningAreaEs),s.xp6(6),s.Q6J("ngModel",n.esCleaningItem)("disabled",n.esCleaningItemEnabled),s.xp6(6),s.Q6J("ngModel",n.index)("disabled",n.indexEnabled),s.xp6(2),s.Q6J("disabled",n.btnEnabled)("hidden",n.hiddenPostCI),s.xp6(2),s.Q6J("disabled",n.btnEnabled)("hidden",n.hiddenUpdateCI),s.xp6(2),s.Q6J("ngForOf",n.cleaningItems))},directives:[d.Gu,d.sr,d.wd,d.gu,d.W2,d.nJ,d.Wo,d.jY,d.Nd,d.pK,d.j9,g.JJ,g.On,d.wI,d.as,d.W4,h.sg,d.PM,d.rH,d.YG],styles:[".backArrow[_ngcontent-%COMP%]{color:#fff}.addCleanArea[_ngcontent-%COMP%]{margin-left:auto}.addCleanArea[_ngcontent-%COMP%], .btnAdd[_ngcontent-%COMP%]{height:30px;margin-right:auto}.btnAdd[_ngcontent-%COMP%]{width:30px;margin-left:0;background-color:blue;color:#fff}.inputEn[_ngcontent-%COMP%]{text-align:center}.inputEn[_ngcontent-%COMP%], .inputEs[_ngcontent-%COMP%]{background-color:gray;font:700;width:40px}.colinputEn[_ngcontent-%COMP%]:first-of-type, .colinputEs[_ngcontent-%COMP%]:first-of-type{flex:0 0 10px}.addCleanItem[_ngcontent-%COMP%]{height:50px}.addCleanItem[_ngcontent-%COMP%], .addItem[_ngcontent-%COMP%]{margin-left:auto;margin-right:auto}.addItem[_ngcontent-%COMP%]{height:40px;-ms-flex-align:end}.delAcc[_ngcontent-%COMP%], .upPen[_ngcontent-%COMP%]{height:60px;width:60px}.btnDel[_ngcontent-%COMP%], .btnUp[_ngcontent-%COMP%]{height:40px;width:40px}.colIndexlbl[_ngcontent-%COMP%]{width:60px}.colIndexlbl[_ngcontent-%COMP%]:first-of-type{flex:0 0 10px}.inputInd[_ngcontent-%COMP%]{background-color:gray;font:700;width:60px}.caen[_ngcontent-%COMP%], .caes[_ngcontent-%COMP%], .ind[_ngcontent-%COMP%]{text-indent:10px}"]}),e})()},5001:(e,n,t)=>{"use strict";t.d(n,{L:()=>d});var i=t(9786),a=t(3018),s=t(7053);let d=(()=>{class e{constructor(e){this.authService=e,this.lang="",this.userId=""}getLano(e){var n="";return i.Z.firestore().collection("userLanguage").doc(e).get().then(e=>{n=e.data().language}),n}getLanguage(e){return i.Z.firestore().collection("userLanguage").doc(e).get().then(e=>{this.lang=e.data().language}),this.lang}languageValidation(){}addLanguage(e,n){return new Promise((t,a)=>{i.Z.firestore().collection("userLanguage").doc(n).set({language:e,updatedOn:i.Z.firestore.FieldValue.serverTimestamp()}).then(e=>t(e),e=>a(e))})}setLanguage(){}}return e.\u0275fac=function(n){return new(n||e)(a.LFG(s.$))},e.\u0275prov=a.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},4155:(e,n,t)=>{"use strict";t.d(n,{k:()=>a});var i=t(3018);let a=(()=>{class e{constructor(){this.cleaningAreaEs="",this.cleaningAreaEn="",this.cleaningAreaId=""}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=i.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()}}]);