(self.webpackChunkBCleanCheck=self.webpackChunkBCleanCheck||[]).push([[8592],{8225:(e,t,i)=>{"use strict";i.d(t,{c:()=>r});var n=i(3150),o=i(2954),s=i(9461);const r=(e,t)=>{let i,r;const a=(e,n,o)=>{if("undefined"==typeof document)return;const s=document.elementFromPoint(e,n);s&&t(s)?s!==i&&(c(),l(s,o)):c()},l=(e,t)=>{i=e,r||(r=i);const o=i;(0,n.c)(()=>o.classList.add("ion-activated")),t()},c=(e=!1)=>{if(!i)return;const t=i;(0,n.c)(()=>t.classList.remove("ion-activated")),e&&r!==i&&i.click(),i=void 0};return(0,s.createGesture)({el:e,gestureName:"buttonActiveDrag",threshold:0,onStart:e=>a(e.currentX,e.currentY,o.a),onMove:e=>a(e.currentX,e.currentY,o.b),onEnd:()=>{c(!0),(0,o.h)(),r=void 0}})}},7330:(e,t,i)=>{"use strict";i.d(t,{a:()=>o,d:()=>s});var n=i(2377);const o=async(e,t,i,o,s)=>{if(e)return e.attachViewToDom(t,i,s,o);if("string"!=typeof i&&!(i instanceof HTMLElement))throw new Error("framework delegate is missing");const r="string"==typeof i?t.ownerDocument&&t.ownerDocument.createElement(i):i;return o&&o.forEach(e=>r.classList.add(e)),s&&Object.assign(r,s),t.appendChild(r),await new Promise(e=>(0,n.c)(r,e)),r},s=(e,t)=>{if(t){if(e)return e.removeViewFromDom(t.parentElement,t);t.remove()}return Promise.resolve()}},2954:(e,t,i)=>{"use strict";i.d(t,{a:()=>s,b:()=>r,c:()=>o,d:()=>l,h:()=>a});const n={getEngine(){const e=window;return e.TapticEngine||e.Capacitor&&e.Capacitor.isPluginAvailable("Haptics")&&e.Capacitor.Plugins.Haptics},available(){return!!this.getEngine()},isCordova:()=>!!window.TapticEngine,isCapacitor:()=>!!window.Capacitor,impact(e){const t=this.getEngine();if(!t)return;const i=this.isCapacitor()?e.style.toUpperCase():e.style;t.impact({style:i})},notification(e){const t=this.getEngine();if(!t)return;const i=this.isCapacitor()?e.style.toUpperCase():e.style;t.notification({style:i})},selection(){this.impact({style:"light"})},selectionStart(){const e=this.getEngine();e&&(this.isCapacitor()?e.selectionStart():e.gestureSelectionStart())},selectionChanged(){const e=this.getEngine();e&&(this.isCapacitor()?e.selectionChanged():e.gestureSelectionChanged())},selectionEnd(){const e=this.getEngine();e&&(this.isCapacitor()?e.selectionEnd():e.gestureSelectionEnd())}},o=()=>{n.selection()},s=()=>{n.selectionStart()},r=()=>{n.selectionChanged()},a=()=>{n.selectionEnd()},l=e=>{n.impact(e)}},6575:(e,t,i)=>{"use strict";i.d(t,{s:()=>n});const n=e=>{try{if(e instanceof class{constructor(e){this.value=e}})return e.value;if(!r()||"string"!=typeof e||""===e)return e;const t=document.createDocumentFragment(),i=document.createElement("div");t.appendChild(i),i.innerHTML=e,l.forEach(e=>{const i=t.querySelectorAll(e);for(let n=i.length-1;n>=0;n--){const e=i[n];e.parentNode?e.parentNode.removeChild(e):t.removeChild(e);const r=s(e);for(let t=0;t<r.length;t++)o(r[t])}});const n=s(t);for(let e=0;e<n.length;e++)o(n[e]);const a=document.createElement("div");a.appendChild(t);const c=a.querySelector("div");return null!==c?c.innerHTML:a.innerHTML}catch(t){return console.error(t),""}},o=e=>{if(e.nodeType&&1!==e.nodeType)return;for(let i=e.attributes.length-1;i>=0;i--){const t=e.attributes.item(i),n=t.name;if(!a.includes(n.toLowerCase())){e.removeAttribute(n);continue}const o=t.value;null!=o&&o.toLowerCase().includes("javascript:")&&e.removeAttribute(n)}const t=s(e);for(let i=0;i<t.length;i++)o(t[i])},s=e=>null!=e.children?e.children:e.childNodes,r=()=>{const e=window,t=e&&e.Ionic&&e.Ionic.config;return!t||(t.get?t.get("sanitizerEnabled",!0):!0===t.sanitizerEnabled||void 0===t.sanitizerEnabled)},a=["class","id","href","src","name","slot"],l=["script","style","iframe","meta","link","object","embed"]},408:(e,t,i)=>{"use strict";i.d(t,{S:()=>n});const n={bubbles:{dur:1e3,circles:9,fn:(e,t,i)=>{const n=e*t/i-e+"ms",o=2*Math.PI*t/i;return{r:5,style:{top:9*Math.sin(o)+"px",left:9*Math.cos(o)+"px","animation-delay":n}}}},circles:{dur:1e3,circles:8,fn:(e,t,i)=>{const n=t/i,o=e*n-e+"ms",s=2*Math.PI*n;return{r:5,style:{top:9*Math.sin(s)+"px",left:9*Math.cos(s)+"px","animation-delay":o}}}},circular:{dur:1400,elmDuration:!0,circles:1,fn:()=>({r:20,cx:48,cy:48,fill:"none",viewBox:"24 24 48 48",transform:"translate(0,0)",style:{}})},crescent:{dur:750,circles:1,fn:()=>({r:26,style:{}})},dots:{dur:750,circles:3,fn:(e,t)=>({r:6,style:{left:9-9*t+"px","animation-delay":-110*t+"ms"}})},lines:{dur:1e3,lines:12,fn:(e,t,i)=>({y1:17,y2:29,style:{transform:`rotate(${30*t+(t<6?180:-180)}deg)`,"animation-delay":e*t/i-e+"ms"}})},"lines-small":{dur:1e3,lines:12,fn:(e,t,i)=>({y1:12,y2:20,style:{transform:`rotate(${30*t+(t<6?180:-180)}deg)`,"animation-delay":e*t/i-e+"ms"}})}}},1269:(e,t,i)=>{"use strict";i.d(t,{c:()=>o,g:()=>s,h:()=>n,o:()=>a});const n=(e,t)=>null!==t.closest(e),o=(e,t)=>"string"==typeof e&&e.length>0?Object.assign({"ion-color":!0,[`ion-color-${e}`]:!0},t):t,s=e=>{const t={};return(e=>void 0!==e?(Array.isArray(e)?e:e.split(" ")).filter(e=>null!=e).map(e=>e.trim()).filter(e=>""!==e):[])(e).forEach(e=>t[e]=!0),t},r=/^[a-z][a-z0-9+\-.]*:/,a=async(e,t,i,n)=>{if(null!=e&&"#"!==e[0]&&!r.test(e)){const o=document.querySelector("ion-router");if(o)return null!=t&&t.preventDefault(),o.push(e,i,n)}return!1}},6269:(e,t,i)=>{"use strict";i.d(t,{J:()=>u});var n=i(4762),o=i(9786),s=i(3018),r=i(2859),a=i(5001),l=i(7053),c=i(665),d=i(8583);function g(e,t){if(1&e){const e=s.EpF();s.TgZ(0,"ion-chip",11),s.NdJ("click",function(){const t=s.CHM(e).index;return s.oxw().selectedCategory(t)}),s.TgZ(1,"ion-label"),s._uU(2),s.qZA(),s.qZA()}if(2&e){const e=t.$implicit;s.xp6(2),s.Oqu(e)}}let u=(()=>{class e{constructor(e,t,i){this.modalCtrl=e,this.lanServ=t,this.authService=i,this.categories=["Work","personal","home"],this.addTaskText="",this.langu="",this.userId="",this.userLanguage()}ngOnInit(){}userLanguage(){this.authService.userDetails().forEach(e=>{o.Z.firestore().collection("userLanguage").doc(e.uid).get().then(e=>{this.getUserLanguage(e.data().language)})})}getUserLanguage(e){}dismiss(){return(0,n.__awaiter)(this,void 0,void 0,function*(){yield this.modalCtrl.dismiss(this.taskObject)})}selectedCategory(e){this.taskCategory=this.categories[e]}addTask(){this.taskObject={itemName:this.taskName,itemDueDate:this.taskDate,itemPriority:this.taskPriority,itemCategory:this.taskCategory},this.dismiss()}}return e.\u0275fac=function(t){return new(t||e)(s.Y36(r.IN),s.Y36(a.L),s.Y36(l.$))},e.\u0275cmp=s.Xpm({type:e,selectors:[["app-add-new-task"]],decls:34,vars:6,consts:[["name","close","slot","end","size","large",1,"ion-padding",3,"click"],["placeholder","Write your task here",3,"ngModel","ngModelChange"],[3,"ngModel","ngModelChange"],["value","Low"],["value","Middle"],["value","High"],["name","calendar-outline","slot","start"],["displayFormat","D MMM YYYY H:mm",3,"ngModel","ngModelChange"],["name","pricetag-outline","slot","start"],[3,"click",4,"ngFor","ngForOf"],["expand","block",1,"ion-margin",3,"click"],[3,"click"]],template:function(e,t){1&e&&(s.TgZ(0,"ion-header"),s.TgZ(1,"ion-toolbar"),s.TgZ(2,"ion-title"),s._uU(3),s.qZA(),s.TgZ(4,"ion-icon",0),s.NdJ("click",function(){return t.dismiss()}),s.qZA(),s.qZA(),s.qZA(),s.TgZ(5,"ion-content"),s.TgZ(6,"ion-card"),s.TgZ(7,"ion-item"),s.TgZ(8,"ion-textarea",1),s.NdJ("ngModelChange",function(e){return t.taskName=e}),s.qZA(),s.qZA(),s.TgZ(9,"ion-item"),s.TgZ(10,"ion-label"),s._uU(11,"Priority"),s.qZA(),s.TgZ(12,"ion-select",2),s.NdJ("ngModelChange",function(e){return t.taskPriority=e}),s.TgZ(13,"ion-select-option",3),s._uU(14,"Low"),s.qZA(),s.TgZ(15,"ion-select-option",4),s._uU(16,"Middle"),s.qZA(),s.TgZ(17,"ion-select-option",5),s._uU(18,"High"),s.qZA(),s.qZA(),s.qZA(),s.TgZ(19,"ion-item"),s._UZ(20,"ion-icon",6),s.TgZ(21,"ion-label"),s._uU(22,"Due Date"),s.qZA(),s.TgZ(23,"ion-datetime",7),s.NdJ("ngModelChange",function(e){return t.taskDate=e}),s.qZA(),s.qZA(),s.TgZ(24,"ion-item"),s._UZ(25,"ion-icon",8),s.TgZ(26,"ion-label"),s._uU(27,"Category"),s.qZA(),s.TgZ(28,"span"),s._uU(29),s.qZA(),s.qZA(),s.TgZ(30,"ion-item"),s.YNc(31,g,3,1,"ion-chip",9),s.qZA(),s.TgZ(32,"ion-button",10),s.NdJ("click",function(){return t.addTask()}),s._uU(33,"Add"),s.qZA(),s.qZA(),s.qZA()),2&e&&(s.xp6(3),s.Oqu(t.addTaskText),s.xp6(5),s.Q6J("ngModel",t.taskName),s.xp6(4),s.Q6J("ngModel",t.taskPriority),s.xp6(11),s.Q6J("ngModel",t.taskDate),s.xp6(6),s.Oqu(t.taskCategory),s.xp6(2),s.Q6J("ngForOf",t.categories))},directives:[r.Gu,r.sr,r.wd,r.gu,r.W2,r.PM,r.Ie,r.g2,r.j9,c.JJ,c.On,r.Q$,r.t9,r.QI,r.n0,r.x4,d.sg,r.YG,r.hM],styles:[""]}),e})()},8076:(e,t,i)=>{"use strict";i.d(t,{O:()=>h});var n=i(4762),o=i(9786),s=i(3018),r=i(2859),a=i(5496),l=i(9089),c=i(8805),d=i(5001),g=i(7053),u=i(665);let h=(()=>{class e{constructor(e,t,i,n,o,s,r,a,l){this.modalCtrl=e,this.toastCtrl=t,this.loadingCtrl=i,this.route=n,this.userService=o,this.empTranService=s,this.lanServ=r,this.authService=a,this.navCtrl=l,this.langu="",this.userLanguage(),this.userId=this.empTranService.empId,this.userName=this.empTranService.empName,this.userEmail=this.empTranService.empEmail,this.userStatus=this.empTranService.empStatus}ngOnInit(){}userLanguage(){this.authService.userDetails().forEach(e=>{o.Z.firestore().collection("userLanguage").doc(e.uid).get().then(e=>{this.getUserLanguage(e.data().language)})})}getUserLanguage(e){}Logout(){this.authService.logoutUser().then(e=>{this.navCtrl.navigateBack("login")}).catch(e=>(0,n.__awaiter)(this,void 0,void 0,function*(){(yield this.toastCtrl.create({message:e,duration:3e3})).present()}))}postStatus(e){return(0,n.__awaiter)(this,void 0,void 0,function*(){o.Z.firestore().collection("employee").doc(this.userId).update({Status:e,updatedOn:o.Z.firestore.FieldValue.serverTimestamp()}).then(()=>(0,n.__awaiter)(this,void 0,void 0,function*(){(yield this.toastCtrl.create({message:"Status Change successfully",duration:3e3})).present(),this.dismiss()})).catch(e=>(0,n.__awaiter)(this,void 0,void 0,function*(){(yield this.toastCtrl.create({message:e.message,duration:3e3})).present()}))})}dismiss(){return(0,n.__awaiter)(this,void 0,void 0,function*(){yield this.modalCtrl.dismiss(this.statusObject)})}}return e.\u0275fac=function(t){return new(t||e)(s.Y36(r.IN),s.Y36(r.yF),s.Y36(r.HT),s.Y36(a.F0),s.Y36(l.K),s.Y36(c.F),s.Y36(d.L),s.Y36(g.$),s.Y36(r.SH))},e.\u0275cmp=s.Xpm({type:e,selectors:[["app-add-user-status-change"]],decls:38,vars:3,consts:[["color","danger"],["name","close","slot","end","size","large",1,"ion-padding",3,"click"],[1,"rowStyleTitle"],[1,"textTitle"],["aria-readonly","true"],[1,"rowStyle"],["required","",3,"ngModel","ngModelChange"],["value","Active"],["value","Inactive"],[1,"rowStyleSub"],["color","primary",1,"btnSubmit",3,"click"]],template:function(e,t){1&e&&(s.TgZ(0,"ion-header"),s.TgZ(1,"ion-toolbar",0),s.TgZ(2,"ion-title"),s._uU(3,"Change User Status"),s.qZA(),s.TgZ(4,"ion-icon",1),s.NdJ("click",function(){return t.dismiss()}),s.qZA(),s.qZA(),s.qZA(),s.TgZ(5,"ion-content"),s.TgZ(6,"ion-grid"),s.TgZ(7,"ion-row"),s._UZ(8,"br"),s.qZA(),s.TgZ(9,"ion-row",2),s.TgZ(10,"ion-col"),s.TgZ(11,"ion-text",3),s._uU(12,"User Status Form"),s.qZA(),s.qZA(),s.qZA(),s.TgZ(13,"ion-row"),s._UZ(14,"br"),s.qZA(),s.TgZ(15,"ion-row"),s.TgZ(16,"ion-col"),s.TgZ(17,"ion-text",4),s._uU(18),s.qZA(),s.qZA(),s.qZA(),s._UZ(19,"br"),s.TgZ(20,"ion-row"),s.TgZ(21,"ion-col"),s.TgZ(22,"ion-text",4),s._uU(23),s.qZA(),s.qZA(),s.qZA(),s._UZ(24,"br"),s.TgZ(25,"ion-row",5),s.TgZ(26,"ion-col"),s.TgZ(27,"ion-label"),s._uU(28,"Status: "),s.TgZ(29,"ion-select",6),s.NdJ("ngModelChange",function(e){return t.userStatus=e}),s.TgZ(30,"ion-select-option",7),s._uU(31,"Active"),s.qZA(),s.TgZ(32,"ion-select-option",8),s._uU(33,"Inactive"),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.TgZ(34,"ion-row",9),s.TgZ(35,"ion-col"),s.TgZ(36,"ion-button",10),s.NdJ("click",function(){return t.postStatus(t.userStatus)}),s._uU(37,"Update"),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA()),2&e&&(s.xp6(18),s.hij("User: ",t.userName,""),s.xp6(5),s.hij("Email: ",t.userEmail,""),s.xp6(6),s.Q6J("ngModel",t.userStatus))},directives:[r.Gu,r.sr,r.wd,r.gu,r.W2,r.jY,r.Nd,r.wI,r.yW,r.Q$,r.t9,r.QI,u.Q7,u.JJ,u.On,r.n0,r.YG],styles:["ion-content[_ngcontent-%COMP%]{--ion-background-color:#fff}.backArrow[_ngcontent-%COMP%]{color:#fff}.input[_ngcontent-%COMP%]{border-bottom:solid;border-width:1px;border-color:blue}.rowStyleTitle[_ngcontent-%COMP%]{text-align:center}.textTitle[_ngcontent-%COMP%]{font-size:30px}ion-input[_ngcontent-%COMP%]{background-color:#fff}.btnSubmit[_ngcontent-%COMP%]{margin-left:auto;margin-right:auto}.rowStyleSub[_ngcontent-%COMP%]{text-align:center}.round-corners[_ngcontent-%COMP%]{border-radius:24px}"]}),e})()},5205:(e,t,i)=>{"use strict";i.d(t,{X:()=>p});var n=i(4762),o=i(9786),s=i(3018),r=i(2859),a=i(5496),l=i(3367),c=i(5001),d=i(7053),g=i(665),u=i(8583);function h(e,t){if(1&e&&(s.TgZ(0,"ion-row",15),s.TgZ(1,"ion-card",16),s._UZ(2,"img",17),s.qZA(),s.qZA()),2&e){const e=s.oxw();s.xp6(2),s.Q6J("src",e.photo,s.LSH)}}let p=(()=>{class e{constructor(e,t,i,n,o,s,r,a){this.modalCtrl=e,this.toastCtrl=t,this.loadingCtrl=i,this.route=n,this.warningService=o,this.lanServ=s,this.authService=r,this.navCtrl=a,this.result="",this.langu="",this.userLanguage(),this.warningUser=this.warningService.User,this.warningUserName=this.warningService.UserName}ngOnInit(){}userLanguage(){this.authService.userDetails().forEach(e=>{o.Z.firestore().collection("userLanguage").doc(e.uid).get().then(e=>{this.getUserLanguage(e.data().language)})})}getUserLanguage(e){}Logout(){this.authService.logoutUser().then(()=>(0,n.__awaiter)(this,void 0,void 0,function*(){this.navCtrl.navigateBack("login"),(yield this.toastCtrl.create({message:"Logout successfull",duration:3e3})).present()})).catch(e=>(0,n.__awaiter)(this,void 0,void 0,function*(){(yield this.toastCtrl.create({message:e,duration:3e3})).present()}))}dismiss(){return(0,n.__awaiter)(this,void 0,void 0,function*(){yield this.modalCtrl.dismiss(this.warningObject)})}choosePhoto(e){this.selectedFile=e.target.files;let t=new FileReader;t.onload=e=>{this.photo=e.target.result},this.empImage=t.readAsDataURL(e.target.files[0])}postWarning(){o.Z.firestore().collection("Warning").add({User:this.warningUser,Severity:this.warningSeverity,Date:o.Z.firestore.FieldValue.serverTimestamp(),Detail:this.warningDetail,Attachments:""}).then(e=>(0,n.__awaiter)(this,void 0,void 0,function*(){(yield this.toastCtrl.create({message:" Warning was added successfully.",duration:3e3})).present(),this.uploadEmployeePhoto(e.id,this.photo)})).catch(e=>(0,n.__awaiter)(this,void 0,void 0,function*(){(yield this.toastCtrl.create({message:e.message,duration:3e3})).present()}))}uploadEmployeePhoto(e,t){if(t){let i=o.Z.storage().ref("profilePhotos/"+e).putString(t,"data_url");i.on("state_changed",e=>{},e=>(0,n.__awaiter)(this,void 0,void 0,function*(){(yield this.toastCtrl.create({message:e.message,duration:3e3})).present()}),()=>(0,n.__awaiter)(this,void 0,void 0,function*(){(yield this.toastCtrl.create({message:"Attachments were added.",duration:3e3})).present(),i.snapshot.ref.getDownloadURL().then(t=>{o.Z.firestore().collection("Warning").doc(e).update({Attachments:t,updatedOn:o.Z.firestore.FieldValue.serverTimestamp()}).then(()=>(0,n.__awaiter)(this,void 0,void 0,function*(){(yield this.toastCtrl.create({message:"Photo was uploaded.",duration:3e3})).present(),this.dismiss()})).catch(e=>(0,n.__awaiter)(this,void 0,void 0,function*(){(yield this.toastCtrl.create({message:e.message,duration:3e3})).present()}))})}))}}}return e.\u0275fac=function(t){return new(t||e)(s.Y36(r.IN),s.Y36(r.yF),s.Y36(r.HT),s.Y36(a.F0),s.Y36(l.q),s.Y36(c.L),s.Y36(d.$),s.Y36(r.SH))},e.\u0275cmp=s.Xpm({type:e,selectors:[["app-add-warning"]],decls:49,vars:5,consts:[["color","danger"],["name","close","slot","end","size","large",1,"ion-padding",3,"click"],[1,"rowStyleTitle"],[1,"textTitle"],[1,"rowStyle"],["placeholder","Write your warning here","required","",3,"ngModel","ngModelChange"],["required","",3,"ngModel","ngModelChange"],["value","Low"],["value","Middle"],["value","High"],["aria-readonly","true"],["type","file","accept","image/*","required","",1,"input",3,"change"],["class","rowStylePhoto",4,"ngIf"],[1,"rowStyleSub"],["color","primary",1,"btnSubmit",3,"click"],[1,"rowStylePhoto"],[1,"round-corners"],[1,"round-corners",3,"src"]],template:function(e,t){1&e&&(s.TgZ(0,"ion-header"),s.TgZ(1,"ion-toolbar",0),s.TgZ(2,"ion-title"),s._uU(3,"New Warning"),s.qZA(),s.TgZ(4,"ion-icon",1),s.NdJ("click",function(){return t.dismiss()}),s.qZA(),s.qZA(),s.qZA(),s.TgZ(5,"ion-content"),s.TgZ(6,"ion-grid"),s.TgZ(7,"ion-row"),s._UZ(8,"br"),s.qZA(),s.TgZ(9,"ion-row",2),s.TgZ(10,"ion-col"),s.TgZ(11,"ion-text",3),s._uU(12,"Warning Form"),s.qZA(),s.qZA(),s.qZA(),s.TgZ(13,"ion-row"),s._UZ(14,"br"),s.qZA(),s.TgZ(15,"ion-row",4),s.TgZ(16,"ion-col"),s.TgZ(17,"ion-label"),s._uU(18,"Warning: "),s.TgZ(19,"ion-textarea",5),s.NdJ("ngModelChange",function(e){return t.warningDetail=e}),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.TgZ(20,"ion-row",4),s.TgZ(21,"ion-col"),s.TgZ(22,"ion-label"),s._uU(23,"Severity: "),s.TgZ(24,"ion-select",6),s.NdJ("ngModelChange",function(e){return t.warningSeverity=e}),s.TgZ(25,"ion-select-option",7),s._uU(26,"Low"),s.qZA(),s.TgZ(27,"ion-select-option",8),s._uU(28,"Middle"),s.qZA(),s.TgZ(29,"ion-select-option",9),s._uU(30,"High"),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.TgZ(31,"ion-row"),s.TgZ(32,"ion-col"),s.TgZ(33,"ion-text",10),s._uU(34),s.qZA(),s.qZA(),s.qZA(),s.TgZ(35,"ion-row",4),s.TgZ(36,"ion-col"),s.TgZ(37,"ion-text",10),s._uU(38),s.qZA(),s.qZA(),s.qZA(),s.TgZ(39,"ion-row",4),s.TgZ(40,"ion-col"),s.TgZ(41,"ion-label"),s._uU(42,"Photo: "),s.TgZ(43,"ion-input",11),s.NdJ("change",function(e){return t.choosePhoto(e)}),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.YNc(44,h,3,1,"ion-row",12),s.TgZ(45,"ion-row",13),s.TgZ(46,"ion-col"),s.TgZ(47,"ion-button",14),s.NdJ("click",function(){return t.postWarning()}),s._uU(48,"Add"),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA()),2&e&&(s.xp6(19),s.Q6J("ngModel",t.warningDetail),s.xp6(5),s.Q6J("ngModel",t.warningSeverity),s.xp6(10),s.hij("To: ",t.warningUserName,""),s.xp6(4),s.hij("User: ",t.warningUser,""),s.xp6(6),s.Q6J("ngIf",""!=t.photo))},directives:[r.Gu,r.sr,r.wd,r.gu,r.W2,r.jY,r.Nd,r.wI,r.yW,r.Q$,r.g2,r.j9,g.Q7,g.JJ,g.On,r.t9,r.QI,r.n0,r.pK,u.O5,r.YG,r.PM],styles:["ion-content[_ngcontent-%COMP%]{--ion-background-color:#fff}.backArrow[_ngcontent-%COMP%]{color:#fff}.input[_ngcontent-%COMP%]{border-bottom:solid;border-width:1px;border-color:blue}.rowStyleTitle[_ngcontent-%COMP%]{text-align:center}.textTitle[_ngcontent-%COMP%]{font-size:30px}ion-input[_ngcontent-%COMP%]{background-color:#fff}.btnSubmit[_ngcontent-%COMP%]{margin-left:auto;margin-right:auto}.rowStyleSub[_ngcontent-%COMP%]{text-align:center}.round-corners[_ngcontent-%COMP%]{border-radius:24px}"]}),e})()},9085:(e,t,i)=>{"use strict";i.d(t,{B:()=>h});var n=i(4762),o=i(9786),s=i(3018),r=i(2859),a=i(2639),l=i(5001),c=i(7053),d=i(665),g=i(8583);function u(e,t){if(1&e&&(s.TgZ(0,"ion-row"),s.TgZ(1,"ion-card",14),s._UZ(2,"img",15),s.qZA(),s.qZA()),2&e){const e=s.oxw();s.xp6(2),s.Q6J("src",e.photo,s.LSH)}}let h=(()=>{class e{constructor(e,t,i,n,o,s){this.modalCtrl=e,this.toastCtrl=t,this.loadingCtrl=i,this.camera=n,this.lanServ=o,this.authService=s,this.rtitle="",this.rdescription="",this.valField="",this.disabledSub=!0,this.nRep="",this.rep="",this.tit="",this.desc="",this.phot="",this.subm="",this.langu="",this.userLanguage(),this.disabledSub=""==this.valField}ngOnInit(){}userLanguage(){this.authService.userDetails().forEach(e=>{o.Z.firestore().collection("userLanguage").doc(e.uid).get().then(e=>{this.getUserLanguage(e.data().language)})})}dismiss(){return(0,n.__awaiter)(this,void 0,void 0,function*(){yield this.modalCtrl.dismiss(this.taskObject)})}takePhoto(e){this.selectedFile=e.target.files;let t=new FileReader;t.onload=e=>{this.photo=e.target.result},this.repImage=t.readAsDataURL(e.target.files[0])}submit(){o.Z.firestore().collection("Report").add({title:this.rtitle,description:this.rdescription,photoUrl:"",created:o.Z.firestore.FieldValue.serverTimestamp(),owner:sessionStorage.getItem("SessionEmail")}).then(e=>(0,n.__awaiter)(this,void 0,void 0,function*(){(yield this.toastCtrl.create({message:" Report was added successfully.",duration:3e3})).present(),this.reportPhoto(e.id,this.photo)})).catch(e=>(0,n.__awaiter)(this,void 0,void 0,function*(){(yield this.toastCtrl.create({message:e.message,duration:3e3})).present()}))}reportPhoto(e,t){if(t){let i=o.Z.storage().ref("reportPhotos/"+e).putString(t,"data_url");i.on("state_changed",e=>{},e=>(0,n.__awaiter)(this,void 0,void 0,function*(){(yield this.toastCtrl.create({message:e.message,duration:3e3})).present()}),()=>(0,n.__awaiter)(this,void 0,void 0,function*(){(yield this.toastCtrl.create({message:" Report photo was added successfully.",duration:3e3})).present(),i.snapshot.ref.getDownloadURL().then(t=>{o.Z.firestore().collection("Report").doc(e).update({photoUrl:t,updatedOn:o.Z.firestore.FieldValue.serverTimestamp()}).then(()=>{this.dismiss()}).catch(e=>{})})}))}}valTitle(){this.disabledSub=""==this.rtitle||""==this.rdescription}valDesc(){this.disabledSub=""==this.rtitle||""==this.rdescription}getUserLanguage(e){switch(e){case"English":this.nRep="New Report",this.rep="Report",this.tit="Title:",this.desc="Description:",this.phot="Photo:",this.subm="Submit";break;case"Spanish":this.nRep="Nuevo Reporte",this.rep="Reporte",this.tit="T\xedtulo:",this.desc="Descripci\xf3n:",this.phot="Foto:",this.subm="Enviar"}}}return e.\u0275fac=function(t){return new(t||e)(s.Y36(r.IN),s.Y36(r.yF),s.Y36(r.HT),s.Y36(a.V1),s.Y36(l.L),s.Y36(c.$))},e.\u0275cmp=s.Xpm({type:e,selectors:[["app-camera-report"]],decls:31,vars:11,consts:[["color","danger"],[1,"lblHeading"],["name","close","slot","end","size","large",1,"ion-padding",3,"click"],[1,"checkMainLabelRow"],[1,"checkMainLabel"],[1,"reportRows"],[1,"labelHead"],[1,"titleInput",3,"ngModel","ngModelChange","ionChange"],[1,"reportRowTextArea"],[1,"txtarea",3,"ngModel","ngModelChange","ionChange"],["type","file","accept","image/*","icon-only","","clear","",1,"input",3,"change"],[4,"ngIf"],["type","text",3,"ngModel","ngModelChange"],[2,"margin-left","auto","margin-right","auto",3,"disabled","click"],[1,"round-corners"],[1,"round-corners",3,"src"]],template:function(e,t){1&e&&(s.TgZ(0,"ion-header"),s.TgZ(1,"ion-toolbar",0),s.TgZ(2,"ion-title"),s.TgZ(3,"ion-label",1),s._uU(4),s.qZA(),s.qZA(),s.TgZ(5,"ion-icon",2),s.NdJ("click",function(){return t.dismiss()}),s.qZA(),s.qZA(),s.qZA(),s.TgZ(6,"ion-content"),s.TgZ(7,"ion-grid"),s.TgZ(8,"ion-row",3),s.TgZ(9,"ion-label",4),s._uU(10),s.qZA(),s.qZA(),s.TgZ(11,"ion-row",5),s.TgZ(12,"ion-label",6),s._uU(13),s.qZA(),s.qZA(),s.TgZ(14,"ion-row"),s.TgZ(15,"ion-input",7),s.NdJ("ngModelChange",function(e){return t.rtitle=e})("ionChange",function(){return t.valTitle()}),s.qZA(),s.qZA(),s.TgZ(16,"ion-row",5),s.TgZ(17,"ion-label",6),s._uU(18),s.qZA(),s.qZA(),s.TgZ(19,"ion-row",8),s.TgZ(20,"ion-textarea",9),s.NdJ("ngModelChange",function(e){return t.rdescription=e})("ionChange",function(){return t.valDesc()}),s.qZA(),s.qZA(),s.TgZ(21,"ion-row",5),s.TgZ(22,"ion-label",6),s._uU(23),s.qZA(),s.TgZ(24,"ion-input",10),s.NdJ("change",function(e){return t.takePhoto(e)}),s.qZA(),s.qZA(),s.YNc(25,u,3,1,"ion-row",11),s.TgZ(26,"ion-row"),s.TgZ(27,"ion-input",12),s.NdJ("ngModelChange",function(e){return t.valField=e}),s.qZA(),s.qZA(),s.TgZ(28,"ion-row",5),s.TgZ(29,"ion-button",13),s.NdJ("click",function(){return t.submit()}),s._uU(30),s.qZA(),s.qZA(),s.qZA(),s.qZA()),2&e&&(s.xp6(4),s.Oqu(t.nRep),s.xp6(6),s.Oqu(t.rep),s.xp6(3),s.Oqu(t.tit),s.xp6(2),s.Q6J("ngModel",t.rtitle),s.xp6(3),s.Oqu(t.desc),s.xp6(2),s.Q6J("ngModel",t.rdescription),s.xp6(3),s.Oqu(t.phot),s.xp6(2),s.Q6J("ngIf",""!=t.photo),s.xp6(2),s.Q6J("ngModel",t.valField),s.xp6(2),s.Q6J("disabled",t.disabledSub),s.xp6(1),s.Oqu(t.subm))},directives:[r.Gu,r.sr,r.wd,r.Q$,r.gu,r.W2,r.jY,r.Nd,r.pK,r.j9,d.JJ,d.On,r.g2,g.O5,r.YG,r.PM],styles:[".checkMainLabelRow[_ngcontent-%COMP%]{background-color:#00c3ff;align-content:center;height:50px}.checkMainLabel[_ngcontent-%COMP%]{font:700;margin-left:auto;margin-right:auto;font-size:large}.reportRows[_ngcontent-%COMP%]{height:50px}.reportRows[_ngcontent-%COMP%], .reportRowTextArea[_ngcontent-%COMP%]{background-color:gray;align-content:center}.reportRowTextArea[_ngcontent-%COMP%]{height:100px}.labelHead[_ngcontent-%COMP%]{font:700;font-size:larger}.txtarea[_ngcontent-%COMP%]{height:100px}.titleInput[_ngcontent-%COMP%], .txtarea[_ngcontent-%COMP%]{background-color:#fff;border-style:outset}.titleInput[_ngcontent-%COMP%]{height:50px}.lblHeading[_ngcontent-%COMP%]{color:#fff}"]}),e})()},2710:(e,t,i)=>{"use strict";i.d(t,{D:()=>f});var n=i(4762),o=i(9786),s=i(3018),r=i(2859),a=i(7232),l=i(5496),c=i(5001),d=i(7053),g=i(8583),u=i(665);function h(e,t){if(1&e&&(s.TgZ(0,"ion-label"),s._uU(1),s.qZA()),2&e){const e=s.oxw().$implicit;s.xp6(1),s.hij(" ",e.cleaningItemEn,"")}}function p(e,t){if(1&e&&(s.TgZ(0,"ion-label"),s._uU(1),s.qZA()),2&e){const e=s.oxw().$implicit;s.xp6(1),s.hij(" ",e.cleaningItemEs,"")}}function m(e,t){if(1&e&&(s.TgZ(0,"ion-row"),s.TgZ(1,"ion-col"),s.TgZ(2,"small"),s.YNc(3,h,2,1,"ion-label",14),s.YNc(4,p,2,1,"ion-label",14),s.qZA(),s.qZA(),s.TgZ(5,"ion-col"),s.TgZ(6,"small"),s.TgZ(7,"ion-label"),s._uU(8),s.qZA(),s.TgZ(9,"ion-label"),s._uU(10),s.qZA(),s.qZA(),s.qZA(),s.TgZ(11,"ion-col"),s.TgZ(12,"small"),s.TgZ(13,"ion-label"),s._uU(14),s.qZA(),s.qZA(),s.qZA(),s.qZA()),2&e){const e=t.$implicit,i=s.oxw(2);s.xp6(3),s.Q6J("ngIf","English"===i.checklistLanguage),s.xp6(1),s.Q6J("ngIf","Spanish"===i.checklistLanguage),s.xp6(4),s.hij(" ",e.checkedText,""),s.xp6(2),s.hij(" ",e.notApplicableText,""),s.xp6(4),s.hij(" ",e.commentNA,"")}}function Z(e,t){if(1&e){const e=s.EpF();s.TgZ(0,"ion-grid"),s.YNc(1,m,15,5,"ion-row",5),s.TgZ(2,"ion-row"),s.TgZ(3,"ion-col"),s.TgZ(4,"small"),s.TgZ(5,"ion-button",6),s.NdJ("click",function(){return s.CHM(e),s.oxw().displayApproveBtn()}),s._uU(6),s.qZA(),s.qZA(),s.qZA(),s._UZ(7,"ion-col"),s.TgZ(8,"ion-col"),s.TgZ(9,"small"),s.TgZ(10,"ion-button",7),s.NdJ("click",function(){return s.CHM(e),s.oxw().displayRejectBtn()}),s._uU(11),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.TgZ(12,"ion-row"),s.TgZ(13,"ion-textarea",8),s.NdJ("ngModelChange",function(t){return s.CHM(e),s.oxw().approvalComment=t}),s.qZA(),s.TgZ(14,"ion-textarea",9),s.NdJ("ngModelChange",function(t){return s.CHM(e),s.oxw().rejectionComment=t})("ionChange",function(){return s.CHM(e),s.oxw().displayBtnReject()}),s.qZA(),s.qZA(),s.TgZ(15,"ion-row",10),s.TgZ(16,"ion-button",11),s.NdJ("click",function(){return s.CHM(e),s.oxw().approve()}),s._UZ(17,"ion-icon",12),s.qZA(),s.TgZ(18,"ion-button",13),s.NdJ("click",function(){return s.CHM(e),s.oxw().reject()}),s._UZ(19,"ion-icon",12),s.qZA(),s.qZA(),s.qZA()}if(2&e){const e=t.$implicit,i=s.oxw();s.xp6(1),s.Q6J("ngForOf",e.data().items),s.xp6(4),s.Q6J("disabled",i.enableApprove),s.xp6(1),s.Oqu(i.apprbtn),s.xp6(4),s.Q6J("disabled",i.enableReject),s.xp6(1),s.Oqu(i.rejbtn),s.xp6(2),s.Q6J("hidden",i.textareaApproveHidden)("ngModel",i.approvalComment),s.xp6(1),s.Q6J("hidden",i.textareaRejectHidden)("ngModel",i.rejectionComment),s.xp6(2),s.Q6J("hidden",i.btnApproveHidden),s.xp6(2),s.Q6J("hidden",i.btnRejectHidden)("disabled",i.btnRejectDisabled)}}let f=(()=>{class e{constructor(e,t,i,n,o,s,r,a){this.modalCtrl=e,this.toastCtrl=t,this.loadingCtrl=i,this.chkRevService=n,this.route=o,this.lanServ=s,this.authService=r,this.navCtrl=a,this.cheklistItems=[],this.cheklistItemsLast=[],this.createdDate="",this.colValue="",this.btnApproveHidden=!0,this.btnRejectHidden=!0,this.textareaApproveHidden=!0,this.textareaRejectHidden=!0,this.approvalComment="",this.rejectionComment="",this.enableApprove=!1,this.enableReject=!1,this.updateId="",this.btnRejectDisabled=!0,this.checklistLanguage="",this.chkreview="",this.apprbtn="",this.rejbtn="",this.langu="",this.userLanguage(),this.getChecklistItemsById(),this.updateId=this.chkRevService.checklistItemsId}userLanguage(){this.authService.userDetails().forEach(e=>{o.Z.firestore().collection("userLanguage").doc(e.uid).get().then(e=>{this.getUserLanguage(e.data().language)})})}getUserEmail(){this.authService.userDetails().forEach(e=>e.email)}ngOnInit(){}getChecklistItemsById(){return(0,n.__awaiter)(this,void 0,void 0,function*(){this.cheklistItems=[];let e=this.loadingCtrl.create({message:"Loading ..."});(yield e).present(),o.Z.firestore().collection("checkListItems").where("checklistId","==",this.chkRevService.checklistItemsId).get().then(e=>{e.forEach(e=>{this.checklistLanguage=e.data().chkLanguage,this.cheklistItems.push(e)})}).then(()=>{}).catch(e=>(0,n.__awaiter)(this,void 0,void 0,function*(){(yield this.toastCtrl.create({message:e.message,duration:3e3})).present()})),(yield e).dismiss()})}dismiss(){return(0,n.__awaiter)(this,void 0,void 0,function*(){yield this.modalCtrl.dismiss(this.taskObject)})}displayApproveBtn(){this.btnApproveHidden=!1,this.textareaApproveHidden=!1,this.btnRejectHidden=!0,this.textareaRejectHidden=!0}displayRejectBtn(){this.btnRejectHidden=!1,this.textareaRejectHidden=!1,this.btnApproveHidden=!0,this.textareaApproveHidden=!0}approve(){this.authService.userDetails().forEach(e=>{o.Z.firestore().collection("checkList").doc(this.updateId).update({approvalComment:this.approvalComment,checkListStatus:"approved",updatedOn:o.Z.firestore.FieldValue.serverTimestamp(),updatedBy:e.email,timeRef:this.getReferenceTime()}).then(e=>(0,n.__awaiter)(this,void 0,void 0,function*(){(yield this.toastCtrl.create({message:" Item was updated successfully.",duration:3e3})).present(),this.modalCtrl.dismiss(),window.location.reload()})).catch(e=>(0,n.__awaiter)(this,void 0,void 0,function*(){(yield this.toastCtrl.create({message:e.message,duration:3e3})).present()}))})}reject(){this.authService.userDetails().forEach(e=>{o.Z.firestore().collection("checkList").doc(this.updateId).update({rejectionComment:this.rejectionComment,checkListStatus:"rejected",updatedOn:o.Z.firestore.FieldValue.serverTimestamp(),updatedBy:e.email,timeRef:this.getReferenceTime()}).then(e=>(0,n.__awaiter)(this,void 0,void 0,function*(){(yield this.toastCtrl.create({message:" Item was updated successfully.",duration:3e3})).present(),this.modalCtrl.dismiss(),window.location.reload()})).catch(e=>(0,n.__awaiter)(this,void 0,void 0,function*(){(yield this.toastCtrl.create({message:e.message,duration:3e3})).present()}))})}getReferenceTime(){var e=o.Z.firestore.Timestamp.now();return new Date(1e3*e.seconds).getTime()}displayBtnReject(){this.btnRejectDisabled=""==this.rejectionComment}Logout(){this.authService.logoutUser().then(()=>(0,n.__awaiter)(this,void 0,void 0,function*(){this.navCtrl.navigateBack("login"),(yield this.toastCtrl.create({message:"Logout successfull",duration:3e3})).present()})).catch(e=>(0,n.__awaiter)(this,void 0,void 0,function*(){(yield this.toastCtrl.create({message:e,duration:3e3})).present()}))}getUserLanguage(e){switch(e){case"English":this.chkreview="Checklist Review",this.apprbtn="Approve",this.rejbtn="Reject";break;case"Spanish":this.chkreview="Revisi\xf3n de Checklist",this.apprbtn="Aprobar",this.rejbtn="Rechazar"}}}return e.\u0275fac=function(t){return new(t||e)(s.Y36(r.IN),s.Y36(r.yF),s.Y36(r.HT),s.Y36(a.q),s.Y36(l.F0),s.Y36(c.L),s.Y36(d.$),s.Y36(r.SH))},e.\u0275cmp=s.Xpm({type:e,selectors:[["app-check-list-review"]],decls:11,vars:2,consts:[["color","danger"],[1,"lblHeading"],["name","close","slot","end","size","large",1,"ion-padding",3,"click"],[1,"checkListRow"],[1,"checklistLabel"],[4,"ngFor","ngForOf"],["color","success",3,"disabled","click"],["color","danger",3,"disabled","click"],[1,"txtarea",3,"hidden","ngModel","ngModelChange"],[1,"txtarea",3,"hidden","ngModel","ngModelChange","ionChange"],[1,"btnRow"],["icon-only","",1,"btnComment",3,"hidden","click"],["name","send"],["icon-only","",1,"btnComment",3,"hidden","disabled","click"],[4,"ngIf"]],template:function(e,t){1&e&&(s.TgZ(0,"ion-header"),s.TgZ(1,"ion-toolbar",0),s.TgZ(2,"ion-title"),s.TgZ(3,"ion-label",1),s._uU(4),s.qZA(),s.qZA(),s.TgZ(5,"ion-icon",2),s.NdJ("click",function(){return t.dismiss()}),s.qZA(),s.qZA(),s.qZA(),s.TgZ(6,"ion-content"),s.TgZ(7,"ion-row",3),s.TgZ(8,"ion-label",4),s._uU(9," Checklist "),s.qZA(),s.qZA(),s.YNc(10,Z,20,12,"ion-grid",5),s.qZA()),2&e&&(s.xp6(4),s.Oqu(t.chkreview),s.xp6(6),s.Q6J("ngForOf",t.cheklistItems))},directives:[r.Gu,r.sr,r.wd,r.Q$,r.gu,r.W2,r.Nd,g.sg,r.jY,r.wI,r.YG,r.g2,r.j9,u.JJ,u.On,g.O5],styles:[".txtarea[_ngcontent-%COMP%]{background-color:#e0ffff;border-style:outset;height:100px}.btnComment[_ngcontent-%COMP%]{margin-left:80%}.btnRow[_ngcontent-%COMP%]{background-color:#e0ffff}.checkListRow[_ngcontent-%COMP%]{background-color:#00c3ff;align-content:center;height:50px}.checklistLabel[_ngcontent-%COMP%]{font:700;margin-left:auto;margin-right:auto;font-size:large}.lblHeading[_ngcontent-%COMP%]{color:#fff}.lbls[_ngcontent-%COMP%]{color:blue}"]}),e})()},8443:(e,t,i)=>{"use strict";i.d(t,{l:()=>g});var n=i(4762),o=i(9786),s=i(3018),r=i(2859),a=i(9089),l=i(5001),c=i(7053),d=i(665);let g=(()=>{class e{constructor(e,t,i,n,o,s){this.modalCtrl=e,this.toastCtrl=t,this.loadingCtrl=i,this.userService=n,this.lanServ=o,this.authService=s,this.email="",this.password="",this.displayName="",this.enabled=!0,this.disabled=!1,this.profileImageUrl="",this.role="",this.soption="",this.langu="",this.userLanguage(),this.displayName=this.userService.displayName,this.email=this.userService.email,this.password=this.userService.password,this.profileImageUrl=this.userService.profileImageUrl}userLanguage(){this.authService.userDetails().forEach(e=>{o.Z.firestore().collection("userLanguage").doc(e.uid).get().then(e=>{this.getUserLanguage(e.data().language)})})}getUserLanguage(e){}ngOnInit(){}dismiss(){return(0,n.__awaiter)(this,void 0,void 0,function*(){yield this.modalCtrl.dismiss(this.taskObject)})}createSystemUser(e){this.role=e,o.Z.auth().createUserWithEmailAndPassword(this.email,this.password).then(e=>{e.user.updateProfile({displayName:this.displayName,photoURL:this.profileImageUrl}).then(t=>(0,n.__awaiter)(this,void 0,void 0,function*(){this.addRole(e.user.uid,this.role),this.addLanguage(e.user.uid),this.notfyUser(),(yield this.toastCtrl.create({message:this.displayName+" was registered successfully",duration:3e3})).present()}))}).catch(e=>(0,n.__awaiter)(this,void 0,void 0,function*(){(yield this.toastCtrl.create({message:e.message,duration:3e3})).present()}))}onCancel(){}addRole(e,t){o.Z.firestore().collection("userRole").doc(e).set({role:t,created:o.Z.firestore.FieldValue.serverTimestamp(),displayName:this.displayName,userEmail:this.email,updatedOn:o.Z.firestore.FieldValue.serverTimestamp()}).then(()=>(0,n.__awaiter)(this,void 0,void 0,function*(){(yield this.toastCtrl.create({message:"User role was assigned. Role = "+t,duration:3e3})).present()})).catch(e=>(0,n.__awaiter)(this,void 0,void 0,function*(){(yield this.toastCtrl.create({message:e.message,duration:3e3})).present()}))}addLanguage(e){o.Z.firestore().collection("userLanguage").doc(e).set({language:"English",created:o.Z.firestore.FieldValue.serverTimestamp()}).then(()=>(0,n.__awaiter)(this,void 0,void 0,function*(){(yield this.toastCtrl.create({message:"English was assigned as default language.",duration:3e3})).present()})).catch(e=>(0,n.__awaiter)(this,void 0,void 0,function*(){(yield this.toastCtrl.create({message:e.message,duration:3e3})).present()}))}notfyUser(){o.Z.auth().sendPasswordResetEmail(this.email)}emailParameters(){this.authService.userDetails().forEach(e=>{})}}return e.\u0275fac=function(t){return new(t||e)(s.Y36(r.IN),s.Y36(r.yF),s.Y36(r.HT),s.Y36(a.K),s.Y36(l.L),s.Y36(c.$))},e.\u0275cmp=s.Xpm({type:e,selectors:[["app-new-user"]],decls:22,vars:3,consts:[["color","danger"],["name","close","slot","end","size","large",1,"ion-padding",3,"click"],[1,"rowStyle"],["type","text",1,"inputStyle",2,"margin-right","auto","margin-left","auto",3,"ngModel","ngModelChange"],["justify-content-center","","align-items-center","",1,"rowStyleII"],[2,"margin-right","auto","margin-left","auto"],[1,"rowStyleII"],["placeholder","Role",2,"margin-right","auto","margin-left","auto",3,"ngModel","ngModelChange","ionCancel","ionChange"],["value","manager"],["value","subordinate"]],template:function(e,t){1&e&&(s.TgZ(0,"ion-header"),s.TgZ(1,"ion-toolbar",0),s.TgZ(2,"ion-title"),s._uU(3,"new-user"),s.qZA(),s.TgZ(4,"ion-icon",1),s.NdJ("click",function(){return t.dismiss()}),s.qZA(),s.qZA(),s.qZA(),s.TgZ(5,"ion-content"),s.TgZ(6,"ion-grid"),s.TgZ(7,"ion-row",2),s.TgZ(8,"ion-input",3),s.NdJ("ngModelChange",function(e){return t.displayName=e}),s._uU(9,"\xa0Display Name:\xa0 "),s.qZA(),s.qZA(),s.TgZ(10,"ion-row",2),s.TgZ(11,"ion-input",3),s.NdJ("ngModelChange",function(e){return t.email=e}),s._uU(12,"\xa0Email:\xa0 "),s.qZA(),s.qZA(),s.TgZ(13,"ion-row",4),s.TgZ(14,"ion-label",5),s._uU(15," Set the role for the user:"),s.qZA(),s.qZA(),s.TgZ(16,"ion-row",6),s.TgZ(17,"ion-select",7),s.NdJ("ngModelChange",function(e){return t.soption=e})("ionCancel",function(){return t.onCancel()})("ionChange",function(){return t.createSystemUser(t.soption)}),s.TgZ(18,"ion-select-option",8),s._uU(19,"Manager"),s.qZA(),s.TgZ(20,"ion-select-option",9),s._uU(21,"Subordinate"),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA()),2&e&&(s.xp6(8),s.Q6J("ngModel",t.displayName),s.xp6(3),s.Q6J("ngModel",t.email),s.xp6(6),s.Q6J("ngModel",t.soption))},directives:[r.Gu,r.sr,r.wd,r.gu,r.W2,r.jY,r.Nd,r.pK,r.j9,d.JJ,d.On,r.Q$,r.t9,r.QI,r.n0],styles:[".rowStyle[_ngcontent-%COMP%]{background-color:#2ba8e2}.rowStyle[_ngcontent-%COMP%], .rowStyleII[_ngcontent-%COMP%]{font-weight:700;align-content:center}.rowStyleII[_ngcontent-%COMP%]{background-color:#64d8ed}"]}),e})()},3082:(e,t,i)=>{"use strict";i.d(t,{Z:()=>p});var n=i(4762),o=i(9786),s=i(3018),r=i(2859),a=i(3278),l=i(5496),c=i(5001),d=i(7053),g=i(8583),u=i(665);function h(e,t){if(1&e&&(s.TgZ(0,"ion-row",12),s.TgZ(1,"ion-avatar",13),s._UZ(2,"img",14),s.qZA(),s.qZA()),2&e){const e=s.oxw();s.xp6(2),s.Q6J("src",e.empProfileImage,s.LSH)}}let p=(()=>{class e{constructor(e,t,i,n,o,s,r){this.modalCtrl=e,this.toastCtrl=t,this.loadingCtrl=i,this.profServ=n,this.route=o,this.lanServ=s,this.authService=r,this.empCode="",this.empName="",this.empMiddle="",this.empLastName="",this.empSecondLastName="",this.empEmail="",this.empPhone="",this.empProfileImage="",this.profUp="",this.checkListLan="",this.updateUserBtn="",this.empDocId="",this.langu="",this.userLanguage(),this.empDocId=this.profServ.idCol,this.empCode=this.profServ.Id,this.empName=this.profServ.Name,this.empMiddle=this.profServ.Middle,this.empLastName=this.profServ.LastName,this.empSecondLastName=this.profServ.SecondLastName,this.empEmail=this.profServ.Email,this.empPhone=this.profServ.PhoneNumber,this.empProfileImage=this.profServ.profileImageUrl}userLanguage(){this.authService.userDetails().forEach(e=>{o.Z.firestore().collection("userLanguage").doc(e.uid).get().then(e=>{this.getUserLanguage(e.data().language)})})}ngOnInit(){}dismiss(){return(0,n.__awaiter)(this,void 0,void 0,function*(){yield this.modalCtrl.dismiss(this.taskObject)})}getUserLanguage(e){switch(e){case"English":this.profUp="Profile Update",this.updateUserBtn="Update User";break;case"Spanish":this.profUp="Actualizaci\xf3n de Perfil",this.updateUserBtn="Actualizar usuario"}}choosePhoto(e){this.selectedFile=e.target.files;let t=new FileReader;t.onload=e=>{this.empProfileImage=e.target.result},this.empImage=t.readAsDataURL(e.target.files[0])}updateUser(){return(0,n.__awaiter)(this,void 0,void 0,function*(){null==this.empCode&&(this.empCode=""),null==this.empEmail&&(this.empEmail=""),null==this.empLastName&&(this.empLastName=""),null==this.empMiddle&&(this.empMiddle=""),null==this.empName&&(this.empName=""),null==this.empPhone&&(this.empPhone=""),null==this.empSecondLastName&&(this.empSecondLastName=""),null==this.empProfileImage&&(this.empProfileImage=""),this.profServ.profileImageUrl==this.empProfileImage?o.Z.firestore().collection("employee").doc(this.empDocId).update({Id:this.empCode,Email:this.empEmail,LastName:this.empLastName,MiddleName:this.empMiddle,Name:this.empName,PhoneNumber:this.empPhone,SecondLastName:this.empSecondLastName,updatedOn:o.Z.firestore.FieldValue.serverTimestamp()}).then(()=>(0,n.__awaiter)(this,void 0,void 0,function*(){(yield this.toastCtrl.create({message:"Employee Updated successfully",duration:3e3})).present(),this.dismiss()})).catch(e=>(0,n.__awaiter)(this,void 0,void 0,function*(){(yield this.toastCtrl.create({message:e.message,duration:3e3})).present()})):o.Z.firestore().collection("employee").doc(this.empDocId).update({Id:this.empCode,Email:this.empEmail,LastName:this.empLastName,MiddleName:this.empMiddle,Name:this.empName,PhoneNumber:this.empPhone,SecondLastName:this.empSecondLastName,profileImageUrl:"",updatedOn:o.Z.firestore.FieldValue.serverTimestamp()}).then(()=>(0,n.__awaiter)(this,void 0,void 0,function*(){(yield this.toastCtrl.create({message:"Employee Updated successfully",duration:3e3})).present(),this.uploadEmployeePhoto(this.empDocId,this.empProfileImage),this.dismiss()})).catch(e=>(0,n.__awaiter)(this,void 0,void 0,function*(){(yield this.toastCtrl.create({message:e.message,duration:3e3})).present()}))})}uploadEmployeePhoto(e,t){if(t){let i=o.Z.storage().ref("profilePhotos/"+e).putString(t,"data_url");i.on("state_changed",e=>{},e=>(0,n.__awaiter)(this,void 0,void 0,function*(){(yield this.toastCtrl.create({message:e.message,duration:3e3})).present()}),()=>(0,n.__awaiter)(this,void 0,void 0,function*(){(yield this.toastCtrl.create({message:" Employee profile photo was added successfully.",duration:3e3})).present(),i.snapshot.ref.getDownloadURL().then(t=>{o.Z.firestore().collection("employee").doc(e).update({profileImageUrl:t,updatedOn:o.Z.firestore.FieldValue.serverTimestamp()}).then(()=>{}).catch(e=>(0,n.__awaiter)(this,void 0,void 0,function*(){(yield this.toastCtrl.create({message:e.message,duration:3e3})).present()}))})}))}}ValidEmail(){return(0,n.__awaiter)(this,void 0,void 0,function*(){(yield o.Z.firestore().collection("employee").where("Email","==",this.empEmail).get()).empty||alert("Error: Employee email is in use.")})}}return e.\u0275fac=function(t){return new(t||e)(s.Y36(r.IN),s.Y36(r.yF),s.Y36(r.HT),s.Y36(a.y),s.Y36(l.F0),s.Y36(c.L),s.Y36(d.$))},e.\u0275cmp=s.Xpm({type:e,selectors:[["app-profile-update"]],decls:34,vars:10,consts:[["color","danger"],[1,"lblHeading"],["name","close","slot","end","size","large",1,"ion-padding",3,"click"],["type","file","accept","image/*","required","",1,"input",3,"change"],["class","rowStyleImg",4,"ngIf"],[1,"rowStyle"],["type","text","required","",1,"input",2,"margin-left","auto","margin-right","auto",3,"ngModel","ngModelChange"],["type","text","required","",1,"input",3,"ngModel","ngModelChange"],["type","text",1,"input",3,"ngModel","ngModelChange"],["type","text","riquired","",1,"input",3,"ngModel","ngModelChange"],["type","text","required","",1,"input",3,"ngModel","change","ngModelChange"],[3,"click"],[1,"rowStyleImg"],[1,"image-center"],["width","250px","height","350px",1,"round-corners",2,"margin-left","auto","margin-right","auto",3,"src"]],template:function(e,t){1&e&&(s.TgZ(0,"ion-header"),s.TgZ(1,"ion-toolbar",0),s.TgZ(2,"ion-title"),s.TgZ(3,"ion-label",1),s._uU(4),s.qZA(),s.qZA(),s.TgZ(5,"ion-icon",2),s.NdJ("click",function(){return t.dismiss()}),s.qZA(),s.qZA(),s.qZA(),s.TgZ(6,"ion-content"),s.TgZ(7,"ion-grid"),s.TgZ(8,"ion-row"),s.TgZ(9,"ion-col"),s.TgZ(10,"ion-label"),s._uU(11,"Photo: "),s.TgZ(12,"ion-input",3),s.NdJ("change",function(e){return t.choosePhoto(e)}),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.YNc(13,h,3,1,"ion-row",4),s._UZ(14,"ion-row",5),s.TgZ(15,"ion-row",5),s.TgZ(16,"ion-input",6),s.NdJ("ngModelChange",function(e){return t.empCode=e}),s.qZA(),s.qZA(),s.TgZ(17,"ion-row",5),s.TgZ(18,"ion-input",7),s.NdJ("ngModelChange",function(e){return t.empName=e}),s.qZA(),s.qZA(),s.TgZ(19,"ion-row",5),s.TgZ(20,"ion-input",8),s.NdJ("ngModelChange",function(e){return t.empMiddle=e}),s.qZA(),s.qZA(),s.TgZ(21,"ion-row",5),s.TgZ(22,"ion-input",9),s.NdJ("ngModelChange",function(e){return t.empLastName=e}),s.qZA(),s.qZA(),s.TgZ(23,"ion-row",5),s.TgZ(24,"ion-input",8),s.NdJ("ngModelChange",function(e){return t.empSecondLastName=e}),s.qZA(),s.qZA(),s.TgZ(25,"ion-row",5),s.TgZ(26,"ion-input",10),s.NdJ("change",function(){return t.ValidEmail()})("ngModelChange",function(e){return t.empEmail=e}),s.qZA(),s.qZA(),s.TgZ(27,"ion-row",5),s.TgZ(28,"ion-input",7),s.NdJ("ngModelChange",function(e){return t.empPhone=e}),s.qZA(),s.qZA(),s.TgZ(29,"ion-row"),s._UZ(30,"ion-col"),s.TgZ(31,"ion-button",11),s.NdJ("click",function(){return t.updateUser()}),s._uU(32),s.qZA(),s._UZ(33,"ion-col"),s.qZA(),s.qZA(),s.qZA()),2&e&&(s.xp6(4),s.Oqu(t.profUp),s.xp6(9),s.Q6J("ngIf",""!=t.empProfileImage),s.xp6(3),s.Q6J("ngModel",t.empCode),s.xp6(2),s.Q6J("ngModel",t.empName),s.xp6(2),s.Q6J("ngModel",t.empMiddle),s.xp6(2),s.Q6J("ngModel",t.empLastName),s.xp6(2),s.Q6J("ngModel",t.empSecondLastName),s.xp6(2),s.Q6J("ngModel",t.empEmail),s.xp6(2),s.Q6J("ngModel",t.empPhone),s.xp6(4),s.Oqu(t.updateUserBtn))},directives:[r.Gu,r.sr,r.wd,r.Q$,r.gu,r.W2,r.jY,r.Nd,r.wI,r.pK,r.j9,g.O5,u.Q7,u.JJ,u.On,r.YG,r.BJ],styles:[".lblHeading[_ngcontent-%COMP%]{color:#fff}.rowStyle[_ngcontent-%COMP%], .rowStyleImg[_ngcontent-%COMP%]{align-content:center;border-bottom:5px solid blue}.rowStyleImg[_ngcontent-%COMP%]{background-color:gray}.round-corners[_ngcontent-%COMP%]{border-radius:150px}.input[_ngcontent-%COMP%], .round-corners[_ngcontent-%COMP%]{align-content:center}.image-center[_ngcontent-%COMP%]{margin:0 auto;width:250px;height:250px}"]}),e})()},7232:(e,t,i)=>{"use strict";i.d(t,{q:()=>o});var n=i(3018);let o=(()=>{class e{constructor(){this.checklistItemsId=""}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},8805:(e,t,i)=>{"use strict";i.d(t,{F:()=>o});var n=i(3018);let o=(()=>{class e{constructor(){this.empDocId="",this.empId="",this.empEmail="",this.empName="",this.empLastName="",this.empSecondLastName="",this.empPhoneNumber="",this.empStatus=""}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},3278:(e,t,i)=>{"use strict";i.d(t,{y:()=>o});var n=i(3018);let o=(()=>{class e{constructor(){this.idCol="",this.Email="",this.Id="",this.LastName="",this.Name="",this.Middle="",this.PhoneNumber="",this.SecondLastName="",this.created="",this.owner="",this.owner_name="",this.profileImageUrl=""}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},9089:(e,t,i)=>{"use strict";i.d(t,{K:()=>o});var n=i(3018);let o=(()=>{class e{constructor(){this.email="",this.password="",this.displayName="",this.enabled=!0,this.disabled=!1,this.profileImageUrl="",this.role=""}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},3367:(e,t,i)=>{"use strict";i.d(t,{q:()=>o});var n=i(3018);let o=(()=>{class e{constructor(){this.Attachments="",this.Date="",this.Detail="",this.Severity="",this.User="",this.updatedOn="",this.UserName=""}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()}}]);