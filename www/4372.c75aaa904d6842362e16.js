(self.webpackChunkBCleanCheck=self.webpackChunkBCleanCheck||[]).push([[4372],{5001:(e,t,o)=>{"use strict";o.d(t,{L:()=>r});var n=o(9786),i=o(3018),a=o(7053);let r=(()=>{class e{constructor(e){this.authService=e,this.lang="",this.userId=""}getLano(e){var t="";return n.Z.firestore().collection("userLanguage").doc(e).get().then(e=>{t=e.data().language}),t}getLanguage(e){return n.Z.firestore().collection("userLanguage").doc(e).get().then(e=>{this.lang=e.data().language}),this.lang}languageValidation(){}addLanguage(e,t){return new Promise((o,i)=>{n.Z.firestore().collection("userLanguage").doc(t).set({language:e,updatedOn:n.Z.firestore.FieldValue.serverTimestamp()}).then(e=>o(e),e=>i(e))})}setLanguage(){}}return e.\u0275fac=function(t){return new(t||e)(i.LFG(a.$))},e.\u0275prov=i.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},4372:(e,t,o)=>{"use strict";o.r(t),o.d(t,{SupRejectedCheckListPageModule:()=>p});var n=o(8583),i=o(665),a=o(2859),r=o(5496),c=o(4762),s=o(9786),l=o(3018),u=o(5001),g=o(7053);function h(e,t){if(1&e&&(l.TgZ(0,"ion-card"),l.TgZ(1,"ion-row"),l.TgZ(2,"ion-col"),l._UZ(3,"img",9),l.qZA(),l.TgZ(4,"ion-col"),l.TgZ(5,"ion-label"),l._uU(6),l.qZA(),l.qZA(),l.qZA(),l.TgZ(7,"ion-row"),l.TgZ(8,"ion-col"),l.TgZ(9,"ion-label"),l._uU(10),l.ALo(11,"date"),l.qZA(),l.qZA(),l.qZA(),l.TgZ(12,"ion-row"),l.TgZ(13,"ion-label",10),l._uU(14),l.qZA(),l.qZA(),l.TgZ(15,"ion-row"),l.TgZ(16,"ion-label"),l._uU(17),l.qZA(),l.qZA(),l.qZA()),2&e){const e=t.$implicit,o=l.oxw();l.xp6(3),l.Q6J("src",e.employeePhoto,l.LSH),l.xp6(3),l.Oqu(e.employeeCompleteName),l.xp6(4),l.Oqu(l.xi3(11,6,1e3*e.chkDate.seconds,"medium")),l.xp6(4),l.AsE("",o.comment," ",e.rejComment,""),l.xp6(3),l.hij("Rejected By: ",o.empName,"")}}const d=function(){return["/supervisor"]},m=[{path:"",component:(()=>{class e{constructor(e,t,o,n,i,a){this.route=e,this.toastCtrl=t,this.loadingCtrl=o,this.lanServ=n,this.authService=i,this.navCtrl=a,this.rejectedChk=[],this.rjchk="",this.comment="",this.empName="",this.langu="",this.userLanguage(),this.getRejectedCheckLists()}userLanguage(){this.authService.userDetails().forEach(e=>{s.Z.firestore().collection("userLanguage").doc(e.uid).get().then(e=>{this.getUserLanguage(e.data().language)})})}ngOnInit(){}Logout(){this.authService.logoutUser().then(()=>(0,c.__awaiter)(this,void 0,void 0,function*(){this.navCtrl.navigateBack("login"),(yield this.toastCtrl.create({message:"Logout successfull",duration:3e3})).present()})).catch(e=>(0,c.__awaiter)(this,void 0,void 0,function*(){(yield this.toastCtrl.create({message:e,duration:3e3})).present()}))}getRejectedCheckLists(){return(0,c.__awaiter)(this,void 0,void 0,function*(){this.rejectedChk=[];let e=this.loadingCtrl.create({message:"Loading ..."});(yield e).present(),s.Z.firestore().collection("checkList").where("checkListStatus","==","rejected").get().then(e=>(0,c.__awaiter)(this,void 0,void 0,function*(){e.forEach(e=>(0,c.__awaiter)(this,void 0,void 0,function*(){s.Z.firestore().collection("userRole").doc(e.data().owner).get().then(t=>(0,c.__awaiter)(this,void 0,void 0,function*(){s.Z.firestore().collection("employee").where("Email","==",t.data().userEmail).get().then(t=>(0,c.__awaiter)(this,void 0,void 0,function*(){t.forEach(t=>{this.rejectedChk.push({employeePhoto:t.data().profileImageUrl,employeeCompleteName:t.data().Name+" "+t.data().LastName+" "+t.data().SecondLastName,chkDate:e.data().created,status:e.data().checkListStatus,rejComment:e.data().rejectionComment,id:e.id})})}))}))}))})),(yield e).dismiss()})}getRejecter(e){s.Z.firestore().collection("employee").where("Email","==",e).get().then(e=>{e.forEach(e=>{this.empName=e.data().Name+" "+e.data().LastName+" "+e.data().SecondLastName})})}getUserLanguage(e){switch(e){case"English":this.rjchk="Rejected Checklists",this.comment="Comment: ";break;case"Spanish":this.rjchk="Checklists Rechazados",this.comment="Comentario: "}}}return e.\u0275fac=function(t){return new(t||e)(l.Y36(r.F0),l.Y36(a.yF),l.Y36(a.HT),l.Y36(u.L),l.Y36(g.$),l.Y36(a.SH))},e.\u0275cmp=l.Xpm({type:e,selectors:[["app-sup-rejected-check-list"]],decls:13,vars:4,consts:[["color","danger"],[1,"lblHeading"],["slot","start"],["block","","clear","","color","Light","icon-only","",1,"backButton",3,"routerLink"],["name","arrow-back-outline",1,"backArrow"],["slot","end"],["icon-only","","clear","",1,"logoutBtn",3,"click"],["name","log-out",1,"lgIcon"],[4,"ngFor","ngForOf"],[1,"image",3,"src"],[1,"comm"]],template:function(e,t){1&e&&(l.TgZ(0,"ion-header"),l.TgZ(1,"ion-toolbar",0),l.TgZ(2,"ion-title"),l._UZ(3,"ion-label",1),l._uU(4),l.qZA(),l.TgZ(5,"ion-buttons",2),l.TgZ(6,"ion-button",3),l._UZ(7,"ion-icon",4),l.qZA(),l.qZA(),l.TgZ(8,"ion-buttons",5),l.TgZ(9,"ion-button",6),l.NdJ("click",function(){return t.Logout()}),l._UZ(10,"ion-icon",7),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.TgZ(11,"ion-content"),l.YNc(12,h,18,9,"ion-card",8),l.qZA()),2&e&&(l.xp6(4),l.Oqu(t.rjchk),l.xp6(2),l.Q6J("routerLink",l.DdM(3,d)),l.xp6(6),l.Q6J("ngForOf",t.rejectedChk))},directives:[a.Gu,a.sr,a.wd,a.Q$,a.Sm,a.YG,a.YI,r.rH,a.gu,a.W2,n.sg,a.PM,a.Nd,a.wI],pipes:[n.uU],styles:[".backArrow[_ngcontent-%COMP%]{color:#fff}.image[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:50%}.comm[_ngcontent-%COMP%], .st[_ngcontent-%COMP%]{color:red}.lblHeading[_ngcontent-%COMP%]{color:#fff}.lbls[_ngcontent-%COMP%]{color:blue}"]}),e})()}];let Z=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=l.oAB({type:e}),e.\u0275inj=l.cJS({imports:[[r.Bz.forChild(m)],r.Bz]}),e})(),p=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=l.oAB({type:e}),e.\u0275inj=l.cJS({imports:[[n.ez,i.u5,a.Pc,Z]]}),e})()}}]);