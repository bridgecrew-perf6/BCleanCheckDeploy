(self.webpackChunkBCleanCheck=self.webpackChunkBCleanCheck||[]).push([[7970],{5001:(e,t,n)=>{"use strict";n.d(t,{L:()=>a});var i=n(9786),o=n(3018),r=n(7053);let a=(()=>{class e{constructor(e){this.authService=e,this.lang="",this.userId=""}getLano(e){var t="";return i.Z.firestore().collection("userLanguage").doc(e).get().then(e=>{t=e.data().language}),t}getLanguage(e){return i.Z.firestore().collection("userLanguage").doc(e).get().then(e=>{this.lang=e.data().language}),this.lang}languageValidation(){}addLanguage(e,t){return new Promise((n,o)=>{i.Z.firestore().collection("userLanguage").doc(t).set({language:e,updatedOn:i.Z.firestore.FieldValue.serverTimestamp()}).then(e=>n(e),e=>o(e))})}setLanguage(){}}return e.\u0275fac=function(t){return new(t||e)(o.LFG(r.$))},e.\u0275prov=o.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},7970:(e,t,n)=>{"use strict";n.r(t),n.d(t,{TimeTrackingPendingPageModule:()=>v});var i=n(8583),o=n(665),r=n(2859),a=n(5496),s=n(4762),c=n(9786),g=n(3018),l=n(5001),u=n(7053);function d(e,t){1&e&&g._UZ(0,"ion-icon",19)}function p(e,t){1&e&&g._UZ(0,"ion-icon",20)}function Z(e,t){if(1&e){const e=g.EpF();g.TgZ(0,"ion-card",10),g.TgZ(1,"ion-card-header"),g.TgZ(2,"ion-row",7),g._UZ(3,"img",11),g.qZA(),g._UZ(4,"br"),g.TgZ(5,"ion-card-subtitle",12),g._uU(6),g._UZ(7,"br"),g._UZ(8,"br"),g._uU(9),g.ALo(10,"date"),g.qZA(),g._UZ(11,"br"),g.TgZ(12,"ion-item"),g.YNc(13,d,1,0,"ion-icon",13),g.YNc(14,p,1,0,"ion-icon",14),g.TgZ(15,"ion-label"),g._uU(16),g.qZA(),g.TgZ(17,"ion-label"),g._uU(18),g.qZA(),g.qZA(),g.qZA(),g.TgZ(19,"ion-row"),g.TgZ(20,"ion-item"),g.TgZ(21,"ion-select",15),g.NdJ("ngModelChange",function(t){return g.CHM(e),g.oxw().option=t}),g.TgZ(22,"ion-select-option",16),g._uU(23,"Pending"),g.qZA(),g.TgZ(24,"ion-select-option",17),g._uU(25,"Approved"),g.qZA(),g.qZA(),g.qZA(),g.TgZ(26,"ion-item"),g._UZ(27,"ion-icon",18),g.TgZ(28,"ion-button",5),g.NdJ("click",function(){const t=g.CHM(e).$implicit,n=g.oxw();return n.UpdateStatus(t.id,n.option)}),g._uU(29," Update "),g.qZA(),g.qZA(),g.qZA(),g.qZA()}if(2&e){const e=t.$implicit,n=g.oxw();g.xp6(3),g.Q6J("src",e.data().profileImageUrl,g.LSH),g.xp6(3),g.hij(" Email: ",e.data().UserEmail," "),g.xp6(3),g.hij(" Time: ",g.xi3(10,8,1e3*e.data().Time.seconds,"medium")," "),g.xp6(4),g.Q6J("ngIf","Break"===e.data().TimeType),g.xp6(1),g.Q6J("ngIf","Work"===e.data().TimeType),g.xp6(2),g.Oqu(e.data().Type),g.xp6(2),g.Oqu(e.data().TimeType),g.xp6(3),g.Q6J("ngModel",n.option)}}const h=function(){return["/supervisor"]},m=function(){return["/time-tracking"]},f=function(){return["/time-tracking-pending"]},_=[{path:"",component:(()=>{class e{constructor(e,t,n,i,o,r){this.toastCtrl=e,this.loadingCtrl=t,this.route=n,this.lanServ=i,this.authService=o,this.navCtrl=r,this.timeList=[],this.langu="",this.userLanguage(),this.Refresh()}userLanguage(){this.authService.userDetails().forEach(e=>{c.Z.firestore().collection("userLanguage").doc(e.uid).get().then(e=>{this.getUserLanguage(e.data().language)})})}getUserLanguage(e){this.langu=e}ngOnInit(){}Logout(){this.authService.logoutUser().then(()=>(0,s.__awaiter)(this,void 0,void 0,function*(){this.navCtrl.navigateBack("login"),(yield this.toastCtrl.create({message:"Logout successfull",duration:3e3})).present()})).catch(e=>(0,s.__awaiter)(this,void 0,void 0,function*(){(yield this.toastCtrl.create({message:e,duration:3e3})).present()}))}Refresh(){return(0,s.__awaiter)(this,void 0,void 0,function*(){this.timeList=[];let e=this.loadingCtrl.create({message:"Loading ..."});(yield e).present(),c.Z.firestore().collection("TimeEntry").where("Status","==","Pending").get().then(t=>(0,s.__awaiter)(this,void 0,void 0,function*(){t.forEach(e=>{this.timeList.push(e),this.option=e.data().Status}),(yield e).dismiss()})).catch(e=>(0,s.__awaiter)(this,void 0,void 0,function*(){(yield this.toastCtrl.create({message:e.message,duration:3e3})).present()}))})}UpdateStatus(e,t){c.Z.firestore().collection("TimeEntry").doc(e).update({Status:t,ApprovedBy:sessionStorage.getItem("SessionEmail"),updatedOn:c.Z.firestore.FieldValue.serverTimestamp()}).then(()=>{this.Refresh()}).catch(e=>(0,s.__awaiter)(this,void 0,void 0,function*(){(yield this.toastCtrl.create({message:e.message,duration:3e3})).present()}))}}return e.\u0275fac=function(t){return new(t||e)(g.Y36(r.yF),g.Y36(r.HT),g.Y36(a.F0),g.Y36(l.L),g.Y36(u.$),g.Y36(r.SH))},e.\u0275cmp=g.Xpm({type:e,selectors:[["app-time-tracking-pending"]],decls:25,vars:7,consts:[["color","danger"],["slot","start"],["block","","clear","","color","Light","icon-only","",1,"backButton",3,"routerLink"],["name","arrow-back-outline",1,"backArrow"],["slot","end"],["icon-only","","clear","",1,"logoutBtn",3,"click"],["name","log-out",1,"lgIcon"],[1,"rowStyle"],[1,"btnIn",3,"routerLink"],["class","ion-margin",4,"ngFor","ngForOf"],[1,"ion-margin"],["width","300px","height","170px",2,"margin-left","auto","margin-right","auto",3,"src"],[2,"font-size","large","font-weight","bold"],["size","small","color","warning","name","ellipse",4,"ngIf"],["size","small","color","success","name","ellipse",4,"ngIf"],[3,"ngModel","ngModelChange"],["value","Pending"],["value","Approved"],["name","Update"],["size","small","color","warning","name","ellipse"],["size","small","color","success","name","ellipse"]],template:function(e,t){1&e&&(g.TgZ(0,"ion-header"),g.TgZ(1,"ion-toolbar",0),g.TgZ(2,"ion-title"),g._uU(3,"Time Tracking"),g.qZA(),g.TgZ(4,"ion-buttons",1),g.TgZ(5,"ion-button",2),g._UZ(6,"ion-icon",3),g.qZA(),g.qZA(),g.TgZ(7,"ion-buttons",4),g.TgZ(8,"ion-button",5),g.NdJ("click",function(){return t.Logout()}),g._UZ(9,"ion-icon",6),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.TgZ(10,"ion-content"),g.TgZ(11,"ion-grid"),g.TgZ(12,"ion-row",7),g._UZ(13,"ion-col"),g.TgZ(14,"ion-col"),g.TgZ(15,"ion-button",8),g._uU(16,"Approved"),g.qZA(),g.qZA(),g.TgZ(17,"ion-col"),g.TgZ(18,"ion-button",8),g._uU(19,"Pending"),g.qZA(),g.qZA(),g._UZ(20,"ion-col"),g._UZ(21,"ion-col"),g._UZ(22,"ion-col"),g._UZ(23,"ion-col"),g.qZA(),g.qZA(),g.YNc(24,Z,30,11,"ion-card",9),g.qZA()),2&e&&(g.xp6(5),g.Q6J("routerLink",g.DdM(4,h)),g.xp6(10),g.Q6J("routerLink",g.DdM(5,m)),g.xp6(3),g.Q6J("routerLink",g.DdM(6,f)),g.xp6(6),g.Q6J("ngForOf",t.timeList))},directives:[r.Gu,r.sr,r.wd,r.Sm,r.YG,r.YI,a.rH,r.gu,r.W2,r.jY,r.Nd,r.wI,i.sg,r.PM,r.Zi,r.tO,r.Ie,i.O5,r.Q$,r.t9,r.QI,o.JJ,o.On,r.n0],pipes:[i.uU],styles:[".rowStyle[_ngcontent-%COMP%]{background-color:#fff;padding-left:30px;border-radius:30px;margin-top:10px}.rowStyle[_ngcontent-%COMP%], .rowStyle[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{margin-left:auto;margin-right:auto}.rowStyle[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{margin-top:13px;font-size:64px;border:solid;background-color:#daa520;position:relative}.rowStyle[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{display:inline-block;vertical-align:middle}ion-content[_ngcontent-%COMP%]{--ion-background-color:#fff}.colStyle[_ngcontent-%COMP%]{align-items:center}.headerStyle[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{margin-right:0}.backArrow[_ngcontent-%COMP%]{color:#fff}"]}),e})()}];let T=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=g.oAB({type:e}),e.\u0275inj=g.cJS({imports:[[a.Bz.forChild(_)],a.Bz]}),e})(),v=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=g.oAB({type:e}),e.\u0275inj=g.cJS({imports:[[i.ez,o.u5,r.Pc,T]]}),e})()}}]);