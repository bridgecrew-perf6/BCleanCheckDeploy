(self.webpackChunkBCleanCheck=self.webpackChunkBCleanCheck||[]).push([[7748],{7748:(t,e,n)=>{"use strict";n.r(e),n.d(e,{ManagerReportPageModule:()=>Z});var o=n(8583),i=n(665),r=n(2859),a=n(5496),s=n(4762),c=n(9786),g=n(9085),l=n(3018),u=n(5001),d=n(7053);function h(t,e){if(1&t&&(l.TgZ(0,"ion-card",12),l.TgZ(1,"ion-card-header"),l.TgZ(2,"ion-item"),l.TgZ(3,"ion-label"),l._uU(4),l.qZA(),l.qZA(),l._UZ(5,"br"),l.TgZ(6,"ion-label"),l._uU(7),l.ALo(8,"date"),l.qZA(),l.qZA(),l.TgZ(9,"ion-card-content"),l._UZ(10,"br"),l.TgZ(11,"ion-text"),l._uU(12),l.qZA(),l._UZ(13,"br"),l.TgZ(14,"ion-row",13),l._UZ(15,"img",14),l.qZA(),l.qZA(),l.qZA()),2&t){const t=e.$implicit;l.xp6(4),l.Oqu(t.title),l.xp6(3),l.hij("Date: ",l.xi3(8,4,1e3*t.date.seconds,"medium"),""),l.xp6(5),l.Oqu(t.description),l.xp6(3),l.Q6J("src",t.photoUrl,l.LSH)}}const p=function(){return["/manager"]},f=[{path:"",component:(()=>{class t{constructor(t,e,n,o,i,r,a){this.route=t,this.loadingCtrl=e,this.toastCtrl=n,this.modalCtrl=o,this.lanServ=i,this.authService=r,this.navCtrl=a,this.reportList=[],this.genRep="",this.langu="",this.userLanguage(),this.LoadReports()}userLanguage(){this.authService.userDetails().forEach(t=>{c.Z.firestore().collection("userLanguage").doc(t.uid).get().then(t=>{this.getUserLanguage(t.data().language)})})}ngOnInit(){}createReport(){return(0,s.__awaiter)(this,void 0,void 0,function*(){const t=yield this.modalCtrl.create({component:g.B});return t.onDidDismiss().then(t=>{this.LoadReports()}),yield t.present()})}LoadReports(){return(0,s.__awaiter)(this,void 0,void 0,function*(){this.reportList=[];let t=this.loadingCtrl.create({message:"Loading ..."});(yield t).present(),c.Z.firestore().collection("Report").get().then(e=>(0,s.__awaiter)(this,void 0,void 0,function*(){e.forEach(t=>{this.reportList.push({title:t.data().title,date:t.data().created,description:t.data().description,photoUrl:this.getReporPhoto(t.data().photoUrl)})}),(yield t).dismiss()})).catch(t=>(0,s.__awaiter)(this,void 0,void 0,function*(){(yield this.toastCtrl.create({message:t.message,duration:3e3})).present()}))})}Logout(){this.authService.logoutUser().then(()=>(0,s.__awaiter)(this,void 0,void 0,function*(){this.navCtrl.navigateBack("login"),(yield this.toastCtrl.create({message:"Logout successfull",duration:3e3})).present()})).catch(t=>(0,s.__awaiter)(this,void 0,void 0,function*(){(yield this.toastCtrl.create({message:t,duration:3e3})).present()}))}refresh(t){this.infiniteEvent&&this.infiniteEvent.enable(!0),t.complete()}getUserLanguage(t){switch(this.langu=t,t){case"English":this.genRep="Reports";break;case"Spanish":this.genRep="Reportes"}}getReporPhoto(t){var e="";return""!=t?e=t:("Spanish"===this.langu&&(e="../../assets/ReportDefaultImages/reportPicEs.png"),"English"===this.langu&&(e="../../assets/ReportDefaultImages/reportPicEn.png")),e}}return t.\u0275fac=function(e){return new(e||t)(l.Y36(a.F0),l.Y36(r.HT),l.Y36(r.yF),l.Y36(r.IN),l.Y36(u.L),l.Y36(d.$),l.Y36(r.SH))},t.\u0275cmp=l.Xpm({type:t,selectors:[["app-manager-report"]],decls:18,vars:4,consts:[["color","danger"],[1,"lblHeading"],["slot","start"],["block","","clear","","color","Light","icon-only","",1,"backButton",3,"routerLink"],["name","arrow-back-outline",1,"backArrow"],["slot","end"],["icon-only","","clear","",1,"logoutBtn",3,"click"],["name","log-out",1,"lgIcon"],["slot","fixed",3,"ionRefresh"],["icon-only","","color","secondary",1,"button","button-small","addEmpBtn",3,"click"],["name","add",1,"addEmp"],["class","ion-margin",4,"ngFor","ngForOf"],[1,"ion-margin"],[2,"align-items","center"],["width","300px","height","300px",2,"margin-left","auto","margin-right","auto",3,"src"]],template:function(t,e){1&t&&(l.TgZ(0,"ion-header"),l.TgZ(1,"ion-toolbar",0),l.TgZ(2,"ion-title"),l.TgZ(3,"ion-label",1),l._uU(4),l.qZA(),l.qZA(),l.TgZ(5,"ion-buttons",2),l.TgZ(6,"ion-button",3),l._UZ(7,"ion-icon",4),l.qZA(),l.qZA(),l.TgZ(8,"ion-buttons",5),l.TgZ(9,"ion-button",6),l.NdJ("click",function(){return e.Logout()}),l._UZ(10,"ion-icon",7),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.TgZ(11,"ion-content"),l.TgZ(12,"ion-refresher",8),l.NdJ("ionRefresh",function(t){return e.refresh(t)}),l._UZ(13,"ion-refresher-content"),l.qZA(),l._UZ(14,"br"),l.TgZ(15,"ion-fab-button",9),l.NdJ("click",function(){return e.createReport()}),l._UZ(16,"ion-icon",10),l.qZA(),l.YNc(17,h,16,7,"ion-card",11),l.qZA()),2&t&&(l.xp6(4),l.Oqu(e.genRep),l.xp6(2),l.Q6J("routerLink",l.DdM(3,p)),l.xp6(11),l.Q6J("ngForOf",e.reportList))},directives:[r.Gu,r.sr,r.wd,r.Q$,r.Sm,r.YG,r.YI,a.rH,r.gu,r.W2,r.nJ,r.Wo,r.W4,o.sg,r.PM,r.Zi,r.Ie,r.FN,r.yW,r.Nd],pipes:[o.uU],styles:[".backArrow[_ngcontent-%COMP%]{color:#fff}.addEmpBtn[_ngcontent-%COMP%]{height:50px}.addEmpBtn[_ngcontent-%COMP%], .rowStyle[_ngcontent-%COMP%]{margin-left:auto;margin-right:auto}.rowStyle[_ngcontent-%COMP%]{align-content:center;background-color:#fff;padding-left:30px;border-radius:30px;margin-top:10px;background-color:#ed5249}.rowStyle[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{margin-top:13px;margin-right:auto;margin-left:auto;font-size:64px;border:solid;background-color:#daa520;position:relative}.rowStyle[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{display:inline-block;vertical-align:middle}ion-content[_ngcontent-%COMP%]{--ion-background-color:#f0f4fd}ion-content[_ngcontent-%COMP%]   P[_ngcontent-%COMP%]{font-size:16px;line-height:22px;color:#8c8c8c;margin:0;font-weight:300}.colStyle[_ngcontent-%COMP%]{align-items:center}.headerStyle[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{margin-right:0}.lblHeading[_ngcontent-%COMP%]{color:#fff}.lbls[_ngcontent-%COMP%]{color:blue}"]}),t})()}];let m=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=l.oAB({type:t}),t.\u0275inj=l.cJS({imports:[[a.Bz.forChild(f)],a.Bz]}),t})(),Z=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=l.oAB({type:t}),t.\u0275inj=l.cJS({imports:[[o.ez,i.u5,r.Pc,m]]}),t})()},5001:(t,e,n)=>{"use strict";n.d(e,{L:()=>a});var o=n(9786),i=n(3018),r=n(7053);let a=(()=>{class t{constructor(t){this.authService=t,this.lang="",this.userId=""}getLano(t){var e="";return o.Z.firestore().collection("userLanguage").doc(t).get().then(t=>{e=t.data().language}),e}getLanguage(t){return o.Z.firestore().collection("userLanguage").doc(t).get().then(t=>{this.lang=t.data().language}),this.lang}languageValidation(){}addLanguage(t,e){return new Promise((n,i)=>{o.Z.firestore().collection("userLanguage").doc(e).set({language:t,updatedOn:o.Z.firestore.FieldValue.serverTimestamp()}).then(t=>n(t),t=>i(t))})}setLanguage(){}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(r.$))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()}}]);