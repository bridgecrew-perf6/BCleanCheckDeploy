(self.webpackChunkBCleanCheck=self.webpackChunkBCleanCheck||[]).push([[7701],{7701:(n,e,t)=>{"use strict";t.r(e),t.d(e,{MyWarningsPageModule:()=>w});var i=t(8583),o=t(665),a=t(2859),r=t(5496),s=t(4762),c=t(9786),l=t(3018),g=t(5001),u=t(7053);function d(n,e){1&n&&l._UZ(0,"ion-icon",16)}function h(n,e){1&n&&l._UZ(0,"ion-icon",17)}function f(n,e){1&n&&l._UZ(0,"ion-icon",18)}function p(n,e){if(1&n&&(l.TgZ(0,"ion-card",10),l.TgZ(1,"ion-card-header"),l.TgZ(2,"ion-card-subtitle"),l._uU(3," Severity: "),l.qZA(),l.TgZ(4,"ion-item"),l.YNc(5,d,1,0,"ion-icon",11),l.YNc(6,h,1,0,"ion-icon",12),l.YNc(7,f,1,0,"ion-icon",13),l.TgZ(8,"ion-label"),l._uU(9),l.qZA(),l.qZA(),l.qZA(),l.TgZ(10,"ion-card-content"),l.TgZ(11,"ion-label"),l._uU(12),l.ALo(13,"date"),l.qZA(),l._UZ(14,"br"),l._uU(15),l._UZ(16,"br"),l.TgZ(17,"ion-text"),l._uU(18),l.qZA(),l._UZ(19,"br"),l.TgZ(20,"ion-row",14),l._UZ(21,"img",15),l.qZA(),l.qZA(),l.qZA()),2&n){const n=e.$implicit;l.xp6(2),l.Udp("color","High"===n.data().Severity?"red":"Low"===n.data().Severity?"green":"orange"),l.xp6(3),l.Q6J("ngIf","High"===n.data().Severity),l.xp6(1),l.Q6J("ngIf","Middle"===n.data().Severity),l.xp6(1),l.Q6J("ngIf","Low"===n.data().Severity),l.xp6(2),l.Oqu(n.data().Severity),l.xp6(3),l.hij("Date: ",l.xi3(13,10,1e3*n.data().Date.seconds,"medium"),""),l.xp6(3),l.hij(" Warning to: ",n.data().User," "),l.xp6(3),l.Oqu(n.data().Detail),l.xp6(3),l.Q6J("src",n.data().Attachments,l.LSH)}}const m=function(){return["/subordinate"]},Z=[{path:"",component:(()=>{class n{constructor(n,e,t,i,o,a){this.route=n,this.toastCtrl=e,this.loadingCtrl=t,this.lanServ=i,this.authService=o,this.navCtrl=a,this.warningList=[],this.myWarn="",this.langu="",this.userLanguage(),this.Refresh()}userLanguage(){this.authService.userDetails().forEach(n=>{c.Z.firestore().collection("userLanguage").doc(n.uid).get().then(n=>{this.getUserLanguage(n.data().language)})})}ngOnInit(){}Logout(){this.authService.logoutUser().then(()=>(0,s.__awaiter)(this,void 0,void 0,function*(){this.navCtrl.navigateBack("login"),(yield this.toastCtrl.create({message:"Logout successfull",duration:3e3})).present()})).catch(n=>(0,s.__awaiter)(this,void 0,void 0,function*(){(yield this.toastCtrl.create({message:n,duration:3e3})).present()}))}Refresh(){return(0,s.__awaiter)(this,void 0,void 0,function*(){this.warningList=[];let n=this.loadingCtrl.create({message:"Loading ..."});(yield n).present(),c.Z.firestore().collection("Warning").where("User","==",sessionStorage.getItem("SessionEmail")).get().then(e=>(0,s.__awaiter)(this,void 0,void 0,function*(){e.forEach(n=>{this.warningList.push(n),console.log(this.warningList)}),(yield n).dismiss()})).catch(n=>{console.log(n)})})}getUserLanguage(n){switch(n){case"English":this.myWarn="My Warnings";break;case"Spanish":this.myWarn="Mis Alertas"}}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(r.F0),l.Y36(a.yF),l.Y36(a.HT),l.Y36(g.L),l.Y36(u.$),l.Y36(a.SH))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-my-warnings"]],decls:13,vars:5,consts:[["color","danger"],[1,"lblHeading"],["slot","start"],["block","","clear","","color","Light","icon-only","",1,"backButton",3,"routerLink"],["name","arrow-back-outline",1,"backArrow"],["slot","end"],["icon-only","","clear","",1,"logoutBtn",3,"click"],["name","log-out",1,"lgIcon"],[3,"fullscreen"],["class","ion-margin",4,"ngFor","ngForOf"],[1,"ion-margin"],["size","small","color","danger","name","ellipse",4,"ngIf"],["size","small","color","warning","name","ellipse",4,"ngIf"],["size","small","color","success","name","ellipse",4,"ngIf"],[2,"align-items","center"],["width","300px","height","300px",2,"margin-left","auto","margin-right","auto",3,"src"],["size","small","color","danger","name","ellipse"],["size","small","color","warning","name","ellipse"],["size","small","color","success","name","ellipse"]],template:function(n,e){1&n&&(l.TgZ(0,"ion-header"),l.TgZ(1,"ion-toolbar",0),l.TgZ(2,"ion-title"),l._UZ(3,"ion-label",1),l._uU(4),l.qZA(),l.TgZ(5,"ion-buttons",2),l.TgZ(6,"ion-button",3),l._UZ(7,"ion-icon",4),l.qZA(),l.qZA(),l.TgZ(8,"ion-buttons",5),l.TgZ(9,"ion-button",6),l.NdJ("click",function(){return e.Logout()}),l._UZ(10,"ion-icon",7),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.TgZ(11,"ion-content",8),l.YNc(12,p,22,13,"ion-card",9),l.qZA()),2&n&&(l.xp6(4),l.Oqu(e.myWarn),l.xp6(2),l.Q6J("routerLink",l.DdM(4,m)),l.xp6(5),l.Q6J("fullscreen",!0),l.xp6(1),l.Q6J("ngForOf",e.warningList))},directives:[a.Gu,a.sr,a.wd,a.Q$,a.Sm,a.YG,a.YI,r.rH,a.gu,a.W2,i.sg,a.PM,a.Zi,a.tO,a.Ie,i.O5,a.FN,a.yW,a.Nd],pipes:[i.uU],styles:[".backArrow[_ngcontent-%COMP%]{color:#fff}.rowStyle[_ngcontent-%COMP%]{align-content:center;background-color:#fff;padding-left:30px;border-radius:30px;margin-top:10px;background-color:#ed5249}.rowStyle[_ngcontent-%COMP%], .rowStyle[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{margin-left:auto;margin-right:auto}.rowStyle[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{margin-top:13px;font-size:64px;border:solid;background-color:#daa520;position:relative}.rowStyle[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{display:inline-block;vertical-align:middle}ion-content[_ngcontent-%COMP%]{--ion-background-color:#f0f4fd}ion-content[_ngcontent-%COMP%]   P[_ngcontent-%COMP%]{font-size:16px;line-height:22px;color:#8c8c8c;margin:0;font-weight:300}.colStyle[_ngcontent-%COMP%]{align-items:center}.headerStyle[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{margin-right:0}.lblHeading[_ngcontent-%COMP%]{color:#fff}"]}),n})()}];let _=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[r.Bz.forChild(Z)],r.Bz]}),n})(),w=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[i.ez,o.u5,a.Pc,_]]}),n})()},5001:(n,e,t)=>{"use strict";t.d(e,{L:()=>r});var i=t(9786),o=t(3018),a=t(7053);let r=(()=>{class n{constructor(n){this.authService=n,this.lang="",this.userId=""}getLano(n){var e="";return i.Z.firestore().collection("userLanguage").doc(n).get().then(n=>{e=n.data().language}),e}getLanguage(n){return i.Z.firestore().collection("userLanguage").doc(n).get().then(n=>{this.lang=n.data().language}),this.lang}languageValidation(){}addLanguage(n,e){return new Promise((t,o)=>{i.Z.firestore().collection("userLanguage").doc(e).set({language:n,updatedOn:i.Z.firestore.FieldValue.serverTimestamp()}).then(n=>t(n),n=>o(n))})}setLanguage(){}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(a.$))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})()}}]);